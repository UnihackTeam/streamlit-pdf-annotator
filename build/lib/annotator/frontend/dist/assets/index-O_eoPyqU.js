(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();function Ya(n,t){const e=Object.create(null),r=n.split(",");for(let s=0;s<r.length;s++)e[r[s]]=!0;return s=>!!e[s]}const bt={},Tr=[],Je=()=>{},ip=()=>!1,io=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Ga=n=>n.startsWith("onUpdate:"),kt=Object.assign,Qa=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},op=Object.prototype.hasOwnProperty,tt=(n,t)=>op.call(n,t),k=Array.isArray,Er=n=>oo(n)==="[object Map]",ku=n=>oo(n)==="[object Set]",H=n=>typeof n=="function",xt=n=>typeof n=="string",Jr=n=>typeof n=="symbol",It=n=>n!==null&&typeof n=="object",Pu=n=>(It(n)||H(n))&&H(n.then)&&H(n.catch),Lu=Object.prototype.toString,oo=n=>Lu.call(n),ap=n=>oo(n).slice(8,-1),Mu=n=>oo(n)==="[object Object]",Za=n=>xt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,di=Ya(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ao=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},cp=/-(\w)/g,Ye=ao(n=>n.replace(cp,(t,e)=>e?e.toUpperCase():"")),lp=/\B([A-Z])/g,Yr=ao(n=>n.replace(lp,"-$1").toLowerCase()),co=ao(n=>n.charAt(0).toUpperCase()+n.slice(1)),zo=ao(n=>n?`on${co(n)}`:""),cr=(n,t)=>!Object.is(n,t),fi=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},Ii=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},ha=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let fl;const da=()=>fl||(fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lo(n){if(k(n)){const t={};for(let e=0;e<n.length;e++){const r=n[e],s=xt(r)?fp(r):lo(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(xt(n)||It(n))return n}const up=/;(?![^(]*\))/g,hp=/:([^]+)/,dp=/\/\*[^]*?\*\//g;function fp(n){const t={};return n.replace(dp,"").split(up).forEach(e=>{if(e){const r=e.split(hp);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xa(n){let t="";if(xt(n))t=n;else if(k(n))for(let e=0;e<n.length;e++){const r=Xa(n[e]);r&&(t+=r+" ")}else if(It(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const pp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yp=Ya(pp);function Nu(n){return!!n||n===""}const fa=n=>xt(n)?n:n==null?"":k(n)||It(n)&&(n.toString===Lu||!H(n.toString))?JSON.stringify(n,ju,2):String(n),ju=(n,t)=>t&&t.__v_isRef?ju(n,t.value):Er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[r,s],i)=>(e[Vo(r,i)+" =>"]=s,e),{})}:ku(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Vo(e))}:Jr(t)?Vo(t):It(t)&&!k(t)&&!Mu(t)?String(t):t,Vo=(n,t="")=>{var e;return Jr(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};let Se;class gp{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=Se;try{return Se=this,t()}finally{Se=e}}}on(){Se=this}off(){Se=this.parent}stop(t){if(this._active){let e,r;for(e=0,r=this.effects.length;e<r;e++)this.effects[e].stop();for(e=0,r=this.cleanups.length;e<r;e++)this.cleanups[e]();if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function mp(n,t=Se){t&&t.active&&t.effects.push(n)}function _p(){return Se}const tc=n=>{const t=new Set(n);return t.w=0,t.n=0,t},$u=n=>(n.w&xn)>0,Uu=n=>(n.n&xn)>0,bp=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=xn},vp=n=>{const{deps:t}=n;if(t.length){let e=0;for(let r=0;r<t.length;r++){const s=t[r];$u(s)&&!Uu(s)?s.delete(n):t[e++]=s,s.w&=~xn,s.n&=~xn}t.length=e}},pa=new WeakMap;let ds=0,xn=1;const ya=30;let Te;const sr=Symbol(""),ga=Symbol("");class ec{constructor(t,e=null,r){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,mp(this,r)}run(){if(!this.active)return this.fn();let t=Te,e=Tn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Te,Te=this,Tn=!0,xn=1<<++ds,ds<=ya?bp(this):pl(this),this.fn()}finally{ds<=ya&&vp(this),xn=1<<--ds,Te=this.parent,Tn=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Te===this?this.deferStop=!0:this.active&&(pl(this),this.onStop&&this.onStop(),this.active=!1)}}function pl(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}let Tn=!0;const zu=[];function Gr(){zu.push(Tn),Tn=!1}function Qr(){const n=zu.pop();Tn=n===void 0?!0:n}function Qt(n,t,e){if(Tn&&Te){let r=pa.get(n);r||pa.set(n,r=new Map);let s=r.get(e);s||r.set(e,s=tc()),Vu(s)}}function Vu(n,t){let e=!1;ds<=ya?Uu(n)||(n.n|=xn,e=!$u(n)):e=!n.has(Te),e&&(n.add(Te),Te.deps.push(n))}function cn(n,t,e,r,s,i){const o=pa.get(n);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&k(n)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!Jr(u)&&u>=c)&&a.push(l)})}else switch(e!==void 0&&a.push(o.get(e)),t){case"add":k(n)?Za(e)&&a.push(o.get("length")):(a.push(o.get(sr)),Er(n)&&a.push(o.get(ga)));break;case"delete":k(n)||(a.push(o.get(sr)),Er(n)&&a.push(o.get(ga)));break;case"set":Er(n)&&a.push(o.get(sr));break}if(a.length===1)a[0]&&ma(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);ma(tc(c))}}function ma(n,t){const e=k(n)?n:[...n];for(const r of e)r.computed&&yl(r);for(const r of e)r.computed||yl(r)}function yl(n,t){(n!==Te||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const wp=Ya("__proto__,__v_isRef,__isVue"),Hu=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Jr)),gl=Sp();function Sp(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const r=st(this);for(let i=0,o=this.length;i<o;i++)Qt(r,"get",i+"");const s=r[t](...e);return s===-1||s===!1?r[t](...e.map(st)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){Gr();const r=st(this)[t].apply(this,e);return Qr(),r}}),n}function Ip(n){const t=st(this);return Qt(t,"has",n),t.hasOwnProperty(n)}class Wu{constructor(t=!1,e=!1){this._isReadonly=t,this._shallow=e}get(t,e,r){const s=this._isReadonly,i=this._shallow;if(e==="__v_isReactive")return!s;if(e==="__v_isReadonly")return s;if(e==="__v_isShallow")return i;if(e==="__v_raw")return r===(s?i?Lp:Yu:i?Ju:qu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=k(t);if(!s){if(o&&tt(gl,e))return Reflect.get(gl,e,r);if(e==="hasOwnProperty")return Ip}const a=Reflect.get(t,e,r);return(Jr(e)?Hu.has(e):wp(e))||(s||Qt(t,"get",e),i)?a:Zt(a)?o&&Za(e)?a:a.value:It(a)?s?Gu(a):sc(a):a}}class Ku extends Wu{constructor(t=!1){super(!1,t)}set(t,e,r,s){let i=t[e];if(!this._shallow){const c=Mr(i);if(!Oi(r)&&!Mr(r)&&(i=st(i),r=st(r)),!k(t)&&Zt(i)&&!Zt(r))return c?!1:(i.value=r,!0)}const o=k(t)&&Za(e)?Number(e)<t.length:tt(t,e),a=Reflect.set(t,e,r,s);return t===st(s)&&(o?cr(r,i)&&cn(t,"set",e,r):cn(t,"add",e,r)),a}deleteProperty(t,e){const r=tt(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&r&&cn(t,"delete",e,void 0),s}has(t,e){const r=Reflect.has(t,e);return(!Jr(e)||!Hu.has(e))&&Qt(t,"has",e),r}ownKeys(t){return Qt(t,"iterate",k(t)?"length":sr),Reflect.ownKeys(t)}}class Op extends Wu{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Ap=new Ku,Tp=new Op,Ep=new Ku(!0),nc=n=>n,uo=n=>Reflect.getPrototypeOf(n);function Xs(n,t,e=!1,r=!1){n=n.__v_raw;const s=st(n),i=st(t);e||(cr(t,i)&&Qt(s,"get",t),Qt(s,"get",i));const{has:o}=uo(s),a=r?nc:e?oc:As;if(o.call(s,t))return a(n.get(t));if(o.call(s,i))return a(n.get(i));n!==s&&n.get(t)}function ti(n,t=!1){const e=this.__v_raw,r=st(e),s=st(n);return t||(cr(n,s)&&Qt(r,"has",n),Qt(r,"has",s)),n===s?e.has(n):e.has(n)||e.has(s)}function ei(n,t=!1){return n=n.__v_raw,!t&&Qt(st(n),"iterate",sr),Reflect.get(n,"size",n)}function ml(n){n=st(n);const t=st(this);return uo(t).has.call(t,n)||(t.add(n),cn(t,"add",n,n)),this}function _l(n,t){t=st(t);const e=st(this),{has:r,get:s}=uo(e);let i=r.call(e,n);i||(n=st(n),i=r.call(e,n));const o=s.call(e,n);return e.set(n,t),i?cr(t,o)&&cn(e,"set",n,t):cn(e,"add",n,t),this}function bl(n){const t=st(this),{has:e,get:r}=uo(t);let s=e.call(t,n);s||(n=st(n),s=e.call(t,n)),r&&r.call(t,n);const i=t.delete(n);return s&&cn(t,"delete",n,void 0),i}function vl(){const n=st(this),t=n.size!==0,e=n.clear();return t&&cn(n,"clear",void 0,void 0),e}function ni(n,t){return function(r,s){const i=this,o=i.__v_raw,a=st(o),c=t?nc:n?oc:As;return!n&&Qt(a,"iterate",sr),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function ri(n,t,e){return function(...r){const s=this.__v_raw,i=st(s),o=Er(i),a=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,l=s[n](...r),u=e?nc:t?oc:As;return!t&&Qt(i,"iterate",c?ga:sr),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function gn(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Bp(){const n={get(i){return Xs(this,i)},get size(){return ei(this)},has:ti,add:ml,set:_l,delete:bl,clear:vl,forEach:ni(!1,!1)},t={get(i){return Xs(this,i,!1,!0)},get size(){return ei(this)},has:ti,add:ml,set:_l,delete:bl,clear:vl,forEach:ni(!1,!0)},e={get(i){return Xs(this,i,!0)},get size(){return ei(this,!0)},has(i){return ti.call(this,i,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:ni(!0,!1)},r={get(i){return Xs(this,i,!0,!0)},get size(){return ei(this,!0)},has(i){return ti.call(this,i,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:ni(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=ri(i,!1,!1),e[i]=ri(i,!0,!1),t[i]=ri(i,!1,!0),r[i]=ri(i,!0,!0)}),[n,e,t,r]}const[xp,Dp,Fp,Cp]=Bp();function rc(n,t){const e=t?n?Cp:Fp:n?Dp:xp;return(r,s,i)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?r:Reflect.get(tt(e,s)&&s in r?e:r,s,i)}const Rp={get:rc(!1,!1)},kp={get:rc(!1,!0)},Pp={get:rc(!0,!1)},qu=new WeakMap,Ju=new WeakMap,Yu=new WeakMap,Lp=new WeakMap;function Mp(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Np(n){return n.__v_skip||!Object.isExtensible(n)?0:Mp(ap(n))}function sc(n){return Mr(n)?n:ic(n,!1,Ap,Rp,qu)}function jp(n){return ic(n,!1,Ep,kp,Ju)}function Gu(n){return ic(n,!0,Tp,Pp,Yu)}function ic(n,t,e,r,s){if(!It(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=s.get(n);if(i)return i;const o=Np(n);if(o===0)return n;const a=new Proxy(n,o===2?r:e);return s.set(n,a),a}function Br(n){return Mr(n)?Br(n.__v_raw):!!(n&&n.__v_isReactive)}function Mr(n){return!!(n&&n.__v_isReadonly)}function Oi(n){return!!(n&&n.__v_isShallow)}function Qu(n){return Br(n)||Mr(n)}function st(n){const t=n&&n.__v_raw;return t?st(t):n}function Zu(n){return Ii(n,"__v_skip",!0),n}const As=n=>It(n)?sc(n):n,oc=n=>It(n)?Gu(n):n;function Xu(n){Tn&&Te&&(n=st(n),Vu(n.dep||(n.dep=tc())))}function th(n,t){n=st(n);const e=n.dep;e&&ma(e)}function Zt(n){return!!(n&&n.__v_isRef===!0)}function vn(n){return $p(n,!1)}function $p(n,t){return Zt(n)?n:new Up(n,t)}class Up{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:st(t),this._value=e?t:As(t)}get value(){return Xu(this),this._value}set value(t){const e=this.__v_isShallow||Oi(t)||Mr(t);t=e?t:st(t),cr(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:As(t),th(this))}}function zp(n){return Zt(n)?n.value:n}const Vp={get:(n,t,e)=>zp(Reflect.get(n,t,e)),set:(n,t,e,r)=>{const s=n[t];return Zt(s)&&!Zt(e)?(s.value=e,!0):Reflect.set(n,t,e,r)}};function eh(n){return Br(n)?n:new Proxy(n,Vp)}class Hp{constructor(t,e,r,s){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ec(t,()=>{this._dirty||(this._dirty=!0,th(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=st(this);return Xu(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Wp(n,t,e=!1){let r,s;const i=H(n);return i?(r=n,s=Je):(r=n.get,s=n.set),new Hp(r,s,i||!s,e)}function En(n,t,e,r){let s;try{s=r?n(...r):n()}catch(i){ho(i,t,e)}return s}function Be(n,t,e,r){if(H(n)){const i=En(n,t,e,r);return i&&Pu(i)&&i.catch(o=>{ho(o,t,e)}),i}const s=[];for(let i=0;i<n.length;i++)s.push(Be(n[i],t,e,r));return s}function ho(n,t,e,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=e;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](n,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){En(c,null,10,[n,o,a]);return}}Kp(n,e,s,r)}function Kp(n,t,e,r=!0){console.error(n)}let Ts=!1,_a=!1;const Pt=[];let je=0;const xr=[];let en=null,Jn=0;const nh=Promise.resolve();let ac=null;function qp(n){const t=ac||nh;return n?t.then(this?n.bind(this):n):t}function Jp(n){let t=je+1,e=Pt.length;for(;t<e;){const r=t+e>>>1,s=Pt[r],i=Es(s);i<n||i===n&&s.pre?t=r+1:e=r}return t}function cc(n){(!Pt.length||!Pt.includes(n,Ts&&n.allowRecurse?je+1:je))&&(n.id==null?Pt.push(n):Pt.splice(Jp(n.id),0,n),rh())}function rh(){!Ts&&!_a&&(_a=!0,ac=nh.then(ih))}function Yp(n){const t=Pt.indexOf(n);t>je&&Pt.splice(t,1)}function Gp(n){k(n)?xr.push(...n):(!en||!en.includes(n,n.allowRecurse?Jn+1:Jn))&&xr.push(n),rh()}function wl(n,t,e=Ts?je+1:0){for(;e<Pt.length;e++){const r=Pt[e];if(r&&r.pre){if(n&&r.id!==n.uid)continue;Pt.splice(e,1),e--,r()}}}function sh(n){if(xr.length){const t=[...new Set(xr)];if(xr.length=0,en){en.push(...t);return}for(en=t,en.sort((e,r)=>Es(e)-Es(r)),Jn=0;Jn<en.length;Jn++)en[Jn]();en=null,Jn=0}}const Es=n=>n.id==null?1/0:n.id,Qp=(n,t)=>{const e=Es(n)-Es(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function ih(n){_a=!1,Ts=!0,Pt.sort(Qp);try{for(je=0;je<Pt.length;je++){const t=Pt[je];t&&t.active!==!1&&En(t,null,14)}}finally{je=0,Pt.length=0,sh(),Ts=!1,ac=null,(Pt.length||xr.length)&&ih()}}function Zp(n,t,...e){if(n.isUnmounted)return;const r=n.vnode.props||bt;let s=e;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||bt;f&&(s=e.map(g=>xt(g)?g.trim():g)),h&&(s=e.map(ha))}let a,c=r[a=zo(t)]||r[a=zo(Ye(t))];!c&&i&&(c=r[a=zo(Yr(t))]),c&&Be(c,n,6,s);const l=r[a+"Once"];if(l){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Be(l,n,6,s)}}function oh(n,t,e=!1){const r=t.emitsCache,s=r.get(n);if(s!==void 0)return s;const i=n.emits;let o={},a=!1;if(!H(n)){const c=l=>{const u=oh(l,t,!0);u&&(a=!0,kt(o,u))};!e&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!i&&!a?(It(n)&&r.set(n,null),null):(k(i)?i.forEach(c=>o[c]=null):kt(o,i),It(n)&&r.set(n,o),o)}function fo(n,t){return!n||!io(t)?!1:(t=t.slice(2).replace(/Once$/,""),tt(n,t[0].toLowerCase()+t.slice(1))||tt(n,Yr(t))||tt(n,t))}let Lt=null,po=null;function Ai(n){const t=Lt;return Lt=n,po=n&&n.type.__scopeId||null,t}function Xp(n){po=n}function ty(){po=null}function ah(n,t=Lt,e){if(!t||n._n)return n;const r=(...s)=>{r._d&&Rl(-1);const i=Ai(t);let o;try{o=n(...s)}finally{Ai(i),r._d&&Rl(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ho(n){const{type:t,vnode:e,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:g,ctx:I,inheritAttrs:A}=n;let x,q;const et=Ai(n);try{if(e.shapeFlag&4){const E=s||r,it=E;x=Ne(u.call(it,E,h,i,g,f,I)),q=c}else{const E=t;x=Ne(E.length>1?E(i,{attrs:c,slots:a,emit:l}):E(i,null)),q=t.props?c:ey(c)}}catch(E){bs.length=0,ho(E,n,1),x=ge(Dn)}let C=x;if(q&&A!==!1){const E=Object.keys(q),{shapeFlag:it}=C;E.length&&it&7&&(o&&E.some(Ga)&&(q=ny(q,o)),C=Nr(C,q))}return e.dirs&&(C=Nr(C),C.dirs=C.dirs?C.dirs.concat(e.dirs):e.dirs),e.transition&&(C.transition=e.transition),x=C,Ai(et),x}const ey=n=>{let t;for(const e in n)(e==="class"||e==="style"||io(e))&&((t||(t={}))[e]=n[e]);return t},ny=(n,t)=>{const e={};for(const r in n)(!Ga(r)||!(r.slice(9)in t))&&(e[r]=n[r]);return e};function ry(n,t,e){const{props:r,children:s,component:i}=n,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&c>=0){if(c&1024)return!0;if(c&16)return r?Sl(r,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!fo(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Sl(r,o,l):!0:!!o;return!1}function Sl(n,t,e){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==n[i]&&!fo(e,i))return!0}return!1}function sy({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const iy="components";function Il(n,t){return ay(iy,n,!0,t)||n}const oy=Symbol.for("v-ndc");function ay(n,t,e=!0,r=!1){const s=Lt||Rt;if(s){const i=s.type;{const a=tg(i,!1);if(a&&(a===t||a===Ye(t)||a===co(Ye(t))))return i}const o=Ol(s[n]||i[n],t)||Ol(s.appContext[n],t);return!o&&r?i:o}}function Ol(n,t){return n&&(n[t]||n[Ye(t)]||n[co(Ye(t))])}const cy=n=>n.__isSuspense;function ly(n,t){t&&t.pendingBranch?k(n)?t.effects.push(...n):t.effects.push(n):Gp(n)}const si={};function Wo(n,t,e){return ch(n,t,e)}function ch(n,t,{immediate:e,deep:r,flush:s,onTrack:i,onTrigger:o}=bt){var a;const c=_p()===((a=Rt)==null?void 0:a.scope)?Rt:null;let l,u=!1,h=!1;if(Zt(n)?(l=()=>n.value,u=Oi(n)):Br(n)?(l=()=>n,r=!0):k(n)?(h=!0,u=n.some(E=>Br(E)||Oi(E)),l=()=>n.map(E=>{if(Zt(E))return E.value;if(Br(E))return Qn(E);if(H(E))return En(E,c,2)})):H(n)?t?l=()=>En(n,c,2):l=()=>{if(!(c&&c.isUnmounted))return f&&f(),Be(n,c,3,[g])}:l=Je,t&&r){const E=l;l=()=>Qn(E())}let f,g=E=>{f=et.onStop=()=>{En(E,c,4),f=et.onStop=void 0}},I;if(xs)if(g=Je,t?e&&Be(t,c,3,[l(),h?[]:void 0,g]):l(),s==="sync"){const E=sg();I=E.__watcherHandles||(E.__watcherHandles=[])}else return Je;let A=h?new Array(n.length).fill(si):si;const x=()=>{if(et.active)if(t){const E=et.run();(r||u||(h?E.some((it,ue)=>cr(it,A[ue])):cr(E,A)))&&(f&&f(),Be(t,c,3,[E,A===si?void 0:h&&A[0]===si?[]:A,g]),A=E)}else et.run()};x.allowRecurse=!!t;let q;s==="sync"?q=x:s==="post"?q=()=>Ht(x,c&&c.suspense):(x.pre=!0,c&&(x.id=c.uid),q=()=>cc(x));const et=new ec(l,q);t?e?x():A=et.run():s==="post"?Ht(et.run.bind(et),c&&c.suspense):et.run();const C=()=>{et.stop(),c&&c.scope&&Qa(c.scope.effects,et)};return I&&I.push(C),C}function uy(n,t,e){const r=this.proxy,s=xt(n)?n.includes(".")?lh(r,n):()=>r[n]:n.bind(r,r);let i;H(t)?i=t:(i=t.handler,e=t);const o=Rt;jr(this);const a=ch(s,i.bind(r),e);return o?jr(o):ir(),a}function lh(n,t){const e=t.split(".");return()=>{let r=n;for(let s=0;s<e.length&&r;s++)r=r[e[s]];return r}}function Qn(n,t){if(!It(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),Zt(n))Qn(n.value,t);else if(k(n))for(let e=0;e<n.length;e++)Qn(n[e],t);else if(ku(n)||Er(n))n.forEach(e=>{Qn(e,t)});else if(Mu(n))for(const e in n)Qn(n[e],t);return n}function Ko(n,t){const e=Lt;if(e===null)return n;const r=bo(e)||e.proxy,s=n.dirs||(n.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=bt]=t[i];o&&(H(o)&&(o={mounted:o,updated:o}),o.deep&&Qn(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return n}function Vn(n,t,e,r){const s=n.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Gr(),Be(c,e,8,[n.el,a,n,t]),Qr())}}/*! #__NO_SIDE_EFFECTS__ */function uh(n,t){return H(n)?kt({name:n.name},t,{setup:n}):n}const ms=n=>!!n.type.__asyncLoader,hh=n=>n.type.__isKeepAlive;function hy(n,t){dh(n,"a",t)}function dy(n,t){dh(n,"da",t)}function dh(n,t,e=Rt){const r=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(yo(t,r,e),e){let s=e.parent;for(;s&&s.parent;)hh(s.parent.vnode)&&fy(r,t,e,s),s=s.parent}}function fy(n,t,e,r){const s=yo(t,n,r,!0);uc(()=>{Qa(r[t],s)},e)}function yo(n,t,e=Rt,r=!1){if(e){const s=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;Gr(),jr(e);const a=Be(t,e,n,o);return ir(),Qr(),a});return r?s.unshift(i):s.push(i),i}}const dn=n=>(t,e=Rt)=>(!xs||n==="sp")&&yo(n,(...r)=>t(...r),e),py=dn("bm"),go=dn("m"),yy=dn("bu"),lc=dn("u"),gy=dn("bum"),uc=dn("um"),my=dn("sp"),_y=dn("rtg"),by=dn("rtc");function fh(n,t=Rt){yo("ec",n,t)}function vy(n,t,e,r){let s;const i=e;if(k(n)||xt(n)){s=new Array(n.length);for(let o=0,a=n.length;o<a;o++)s[o]=t(n[o],o,void 0,i)}else if(typeof n=="number"){s=new Array(n);for(let o=0;o<n;o++)s[o]=t(o+1,o,void 0,i)}else if(It(n))if(n[Symbol.iterator])s=Array.from(n,(o,a)=>t(o,a,void 0,i));else{const o=Object.keys(n);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(n[l],l,a,i)}}else s=[];return s}function wy(n,t,e={},r,s){if(Lt.isCE||Lt.parent&&ms(Lt.parent)&&Lt.parent.isCE)return ge("slot",e,r);let i=n[t];i&&i._c&&(i._d=!1),Bn();const o=i&&ph(i(e)),a=Oh(fe,{key:e.key||o&&o.key||`_${t}`},o||[],o&&n._===1?64:-2);return i&&i._c&&(i._d=!0),a}function ph(n){return n.some(t=>Ah(t)?!(t.type===Dn||t.type===fe&&!ph(t.children)):!0)?n:null}const ba=n=>n?Eh(n)?bo(n)||n.proxy:ba(n.parent):null,_s=kt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ba(n.parent),$root:n=>ba(n.root),$emit:n=>n.emit,$options:n=>hc(n),$forceUpdate:n=>n.f||(n.f=()=>cc(n.update)),$nextTick:n=>n.n||(n.n=qp.bind(n.proxy)),$watch:n=>uy.bind(n)}),qo=(n,t)=>n!==bt&&!n.__isScriptSetup&&tt(n,t),Sy={get({_:n},t){const{ctx:e,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=n;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return e[t];case 3:return i[t]}else{if(qo(r,t))return o[t]=1,r[t];if(s!==bt&&tt(s,t))return o[t]=2,s[t];if((l=n.propsOptions[0])&&tt(l,t))return o[t]=3,i[t];if(e!==bt&&tt(e,t))return o[t]=4,e[t];va&&(o[t]=0)}}const u=_s[t];let h,f;if(u)return t==="$attrs"&&Qt(n,"get",t),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==bt&&tt(e,t))return o[t]=4,e[t];if(f=c.config.globalProperties,tt(f,t))return f[t]},set({_:n},t,e){const{data:r,setupState:s,ctx:i}=n;return qo(s,t)?(s[t]=e,!0):r!==bt&&tt(r,t)?(r[t]=e,!0):tt(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!e[o]||n!==bt&&tt(n,o)||qo(t,o)||(a=i[0])&&tt(a,o)||tt(r,o)||tt(_s,o)||tt(s.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:tt(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Al(n){return k(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let va=!0;function Iy(n){const t=hc(n),e=n.proxy,r=n.ctx;va=!1,t.beforeCreate&&Tl(t.beforeCreate,n,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:I,activated:A,deactivated:x,beforeDestroy:q,beforeUnmount:et,destroyed:C,unmounted:E,render:it,renderTracked:ue,renderTriggered:be,errorCaptured:Mt,serverPrefetch:rs,expose:$n,inheritAttrs:ss,components:Ys,directives:Gs,filters:Uo}=t;if(l&&Oy(l,r,null),o)for(const Ot in o){const yt=o[Ot];H(yt)&&(r[Ot]=yt.bind(e))}if(s){const Ot=s.call(e,e);It(Ot)&&(n.data=sc(Ot))}if(va=!0,i)for(const Ot in i){const yt=i[Ot],Un=H(yt)?yt.bind(e,e):H(yt.get)?yt.get.bind(e,e):Je,Qs=!H(yt)&&H(yt.set)?yt.set.bind(e):Je,zn=ng({get:Un,set:Qs});Object.defineProperty(r,Ot,{enumerable:!0,configurable:!0,get:()=>zn.value,set:Ce=>zn.value=Ce})}if(a)for(const Ot in a)yh(a[Ot],r,e,Ot);if(c){const Ot=H(c)?c.call(e):c;Reflect.ownKeys(Ot).forEach(yt=>{Dy(yt,Ot[yt])})}u&&Tl(u,n,"c");function Nt(Ot,yt){k(yt)?yt.forEach(Un=>Ot(Un.bind(e))):yt&&Ot(yt.bind(e))}if(Nt(py,h),Nt(go,f),Nt(yy,g),Nt(lc,I),Nt(hy,A),Nt(dy,x),Nt(fh,Mt),Nt(by,ue),Nt(_y,be),Nt(gy,et),Nt(uc,E),Nt(my,rs),k($n))if($n.length){const Ot=n.exposed||(n.exposed={});$n.forEach(yt=>{Object.defineProperty(Ot,yt,{get:()=>e[yt],set:Un=>e[yt]=Un})})}else n.exposed||(n.exposed={});it&&n.render===Je&&(n.render=it),ss!=null&&(n.inheritAttrs=ss),Ys&&(n.components=Ys),Gs&&(n.directives=Gs)}function Oy(n,t,e=Je){k(n)&&(n=wa(n));for(const r in n){const s=n[r];let i;It(s)?"default"in s?i=pi(s.from||r,s.default,!0):i=pi(s.from||r):i=pi(s),Zt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Tl(n,t,e){Be(k(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,e)}function yh(n,t,e,r){const s=r.includes(".")?lh(e,r):()=>e[r];if(xt(n)){const i=t[n];H(i)&&Wo(s,i)}else if(H(n))Wo(s,n.bind(e));else if(It(n))if(k(n))n.forEach(i=>yh(i,t,e,r));else{const i=H(n.handler)?n.handler.bind(e):t[n.handler];H(i)&&Wo(s,i,n)}}function hc(n){const t=n.type,{mixins:e,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=n.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!e&&!r?c=t:(c={},s.length&&s.forEach(l=>Ti(c,l,o,!0)),Ti(c,t,o)),It(t)&&i.set(t,c),c}function Ti(n,t,e,r=!1){const{mixins:s,extends:i}=t;i&&Ti(n,i,e,!0),s&&s.forEach(o=>Ti(n,o,e,!0));for(const o in t)if(!(r&&o==="expose")){const a=Ay[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const Ay={data:El,props:Bl,emits:Bl,methods:fs,computed:fs,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:fs,directives:fs,watch:Ey,provide:El,inject:Ty};function El(n,t){return t?n?function(){return kt(H(n)?n.call(this,this):n,H(t)?t.call(this,this):t)}:t:n}function Ty(n,t){return fs(wa(n),wa(t))}function wa(n){if(k(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function jt(n,t){return n?[...new Set([].concat(n,t))]:t}function fs(n,t){return n?kt(Object.create(null),n,t):t}function Bl(n,t){return n?k(n)&&k(t)?[...new Set([...n,...t])]:kt(Object.create(null),Al(n),Al(t??{})):t}function Ey(n,t){if(!n)return t;if(!t)return n;const e=kt(Object.create(null),n);for(const r in t)e[r]=jt(n[r],t[r]);return e}function gh(){return{app:null,config:{isNativeTag:ip,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let By=0;function xy(n,t){return function(r,s=null){H(r)||(r=kt({},r)),s!=null&&!It(s)&&(s=null);const i=gh(),o=new WeakSet;let a=!1;const c=i.app={_uid:By++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:ig,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&H(l.install)?(o.add(l),l.install(c,...u)):H(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=ge(r,s);return f.appContext=i,u&&t?t(f,l):n(f,l,h),a=!0,c._container=l,l.__vue_app__=c,bo(f.component)||f.component.proxy}},unmount(){a&&(n(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){Ei=c;try{return l()}finally{Ei=null}}};return c}}let Ei=null;function Dy(n,t){if(Rt){let e=Rt.provides;const r=Rt.parent&&Rt.parent.provides;r===e&&(e=Rt.provides=Object.create(r)),e[n]=t}}function pi(n,t,e=!1){const r=Rt||Lt;if(r||Ei){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ei._context.provides;if(s&&n in s)return s[n];if(arguments.length>1)return e&&H(t)?t.call(r&&r.proxy):t}}function Fy(n,t,e,r=!1){const s={},i={};Ii(i,_o,1),n.propsDefaults=Object.create(null),mh(n,t,s,i);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);e?n.props=r?s:jp(s):n.type.props?n.props=s:n.props=i,n.attrs=i}function Cy(n,t,e,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=n,a=st(s),[c]=n.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(fo(n.emitsOptions,f))continue;const g=t[f];if(c)if(tt(i,f))g!==i[f]&&(i[f]=g,l=!0);else{const I=Ye(f);s[I]=Sa(c,a,I,g,n,!1)}else g!==i[f]&&(i[f]=g,l=!0)}}}else{mh(n,t,s,i)&&(l=!0);let u;for(const h in a)(!t||!tt(t,h)&&((u=Yr(h))===h||!tt(t,u)))&&(c?e&&(e[h]!==void 0||e[u]!==void 0)&&(s[h]=Sa(c,a,h,void 0,n,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!tt(t,h))&&(delete i[h],l=!0)}l&&cn(n,"set","$attrs")}function mh(n,t,e,r){const[s,i]=n.propsOptions;let o=!1,a;if(t)for(let c in t){if(di(c))continue;const l=t[c];let u;s&&tt(s,u=Ye(c))?!i||!i.includes(u)?e[u]=l:(a||(a={}))[u]=l:fo(n.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=st(e),l=a||bt;for(let u=0;u<i.length;u++){const h=i[u];e[h]=Sa(s,c,h,l[h],n,!tt(l,h))}}return o}function Sa(n,t,e,r,s,i){const o=n[e];if(o!=null){const a=tt(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&H(c)){const{propsDefaults:l}=s;e in l?r=l[e]:(jr(s),r=l[e]=c.call(null,t),ir())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Yr(e))&&(r=!0))}return r}function _h(n,t,e=!1){const r=t.propsCache,s=r.get(n);if(s)return s;const i=n.props,o={},a=[];let c=!1;if(!H(n)){const u=h=>{c=!0;const[f,g]=_h(h,t,!0);kt(o,f),g&&a.push(...g)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!i&&!c)return It(n)&&r.set(n,Tr),Tr;if(k(i))for(let u=0;u<i.length;u++){const h=Ye(i[u]);xl(h)&&(o[h]=bt)}else if(i)for(const u in i){const h=Ye(u);if(xl(h)){const f=i[u],g=o[h]=k(f)||H(f)?{type:f}:kt({},f);if(g){const I=Cl(Boolean,g.type),A=Cl(String,g.type);g[0]=I>-1,g[1]=A<0||I<A,(I>-1||tt(g,"default"))&&a.push(h)}}}const l=[o,a];return It(n)&&r.set(n,l),l}function xl(n){return n[0]!=="$"}function Dl(n){const t=n&&n.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:n===null?"null":""}function Fl(n,t){return Dl(n)===Dl(t)}function Cl(n,t){return k(t)?t.findIndex(e=>Fl(e,n)):H(t)&&Fl(t,n)?0:-1}const bh=n=>n[0]==="_"||n==="$stable",dc=n=>k(n)?n.map(Ne):[Ne(n)],Ry=(n,t,e)=>{if(t._n)return t;const r=ah((...s)=>dc(t(...s)),e);return r._c=!1,r},vh=(n,t,e)=>{const r=n._ctx;for(const s in n){if(bh(s))continue;const i=n[s];if(H(i))t[s]=Ry(s,i,r);else if(i!=null){const o=dc(i);t[s]=()=>o}}},wh=(n,t)=>{const e=dc(t);n.slots.default=()=>e},ky=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=st(t),Ii(t,"_",e)):vh(t,n.slots={})}else n.slots={},t&&wh(n,t);Ii(n.slots,_o,1)},Py=(n,t,e)=>{const{vnode:r,slots:s}=n;let i=!0,o=bt;if(r.shapeFlag&32){const a=t._;a?e&&a===1?i=!1:(kt(s,t),!e&&a===1&&delete s._):(i=!t.$stable,vh(t,s)),o=t}else t&&(wh(n,t),o={default:1});if(i)for(const a in s)!bh(a)&&o[a]==null&&delete s[a]};function Ia(n,t,e,r,s=!1){if(k(n)){n.forEach((f,g)=>Ia(f,t&&(k(t)?t[g]:t),e,r,s));return}if(ms(r)&&!s)return;const i=r.shapeFlag&4?bo(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=n,l=t&&t.r,u=a.refs===bt?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(xt(l)?(u[l]=null,tt(h,l)&&(h[l]=null)):Zt(l)&&(l.value=null)),H(c))En(c,a,12,[o,u]);else{const f=xt(c),g=Zt(c);if(f||g){const I=()=>{if(n.f){const A=f?tt(h,c)?h[c]:u[c]:c.value;s?k(A)&&Qa(A,i):k(A)?A.includes(i)||A.push(i):f?(u[c]=[i],tt(h,c)&&(h[c]=u[c])):(c.value=[i],n.k&&(u[n.k]=c.value))}else f?(u[c]=o,tt(h,c)&&(h[c]=o)):g&&(c.value=o,n.k&&(u[n.k]=o))};o?(I.id=-1,Ht(I,e)):I()}}}const Ht=ly;function Ly(n){return My(n)}function My(n,t){const e=da();e.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Je,insertStaticContent:I}=n,A=(d,p,m,_=null,b=null,S=null,T=!1,w=null,O=!!p.dynamicChildren)=>{if(d===p)return;d&&!as(d,p)&&(_=Zs(d),Ce(d,b,S,!0),d=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:v,ref:D,shapeFlag:B}=p;switch(v){case mo:x(d,p,m,_);break;case Dn:q(d,p,m,_);break;case Jo:d==null&&et(p,m,_,T);break;case fe:Ys(d,p,m,_,b,S,T,w,O);break;default:B&1?it(d,p,m,_,b,S,T,w,O):B&6?Gs(d,p,m,_,b,S,T,w,O):(B&64||B&128)&&v.process(d,p,m,_,b,S,T,w,O,is)}D!=null&&b&&Ia(D,d&&d.ref,S,p||d,!p)},x=(d,p,m,_)=>{if(d==null)r(p.el=a(p.children),m,_);else{const b=p.el=d.el;p.children!==d.children&&l(b,p.children)}},q=(d,p,m,_)=>{d==null?r(p.el=c(p.children||""),m,_):p.el=d.el},et=(d,p,m,_)=>{[d.el,d.anchor]=I(d.children,p,m,_,d.el,d.anchor)},C=({el:d,anchor:p},m,_)=>{let b;for(;d&&d!==p;)b=f(d),r(d,m,_),d=b;r(p,m,_)},E=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),s(d),d=m;s(p)},it=(d,p,m,_,b,S,T,w,O)=>{T=T||p.type==="svg",d==null?ue(p,m,_,b,S,T,w,O):rs(d,p,b,S,T,w,O)},ue=(d,p,m,_,b,S,T,w)=>{let O,v;const{type:D,props:B,shapeFlag:F,transition:$,dirs:G}=d;if(O=d.el=o(d.type,S,B&&B.is,B),F&8?u(O,d.children):F&16&&Mt(d.children,O,null,_,b,S&&D!=="foreignObject",T,w),G&&Vn(d,null,_,"created"),be(O,d,d.scopeId,T,_),B){for(const dt in B)dt!=="value"&&!di(dt)&&i(O,dt,null,B[dt],S,d.children,_,b,Xe);"value"in B&&i(O,"value",null,B.value),(v=B.onVnodeBeforeMount)&&ke(v,_,d)}G&&Vn(d,null,_,"beforeMount");const gt=Ny(b,$);gt&&$.beforeEnter(O),r(O,p,m),((v=B&&B.onVnodeMounted)||gt||G)&&Ht(()=>{v&&ke(v,_,d),gt&&$.enter(O),G&&Vn(d,null,_,"mounted")},b)},be=(d,p,m,_,b)=>{if(m&&g(d,m),_)for(let S=0;S<_.length;S++)g(d,_[S]);if(b){let S=b.subTree;if(p===S){const T=b.vnode;be(d,T,T.scopeId,T.slotScopeIds,b.parent)}}},Mt=(d,p,m,_,b,S,T,w,O=0)=>{for(let v=O;v<d.length;v++){const D=d[v]=w?wn(d[v]):Ne(d[v]);A(null,D,p,m,_,b,S,T,w)}},rs=(d,p,m,_,b,S,T)=>{const w=p.el=d.el;let{patchFlag:O,dynamicChildren:v,dirs:D}=p;O|=d.patchFlag&16;const B=d.props||bt,F=p.props||bt;let $;m&&Hn(m,!1),($=F.onVnodeBeforeUpdate)&&ke($,m,p,d),D&&Vn(p,d,m,"beforeUpdate"),m&&Hn(m,!0);const G=b&&p.type!=="foreignObject";if(v?$n(d.dynamicChildren,v,w,m,_,G,S):T||yt(d,p,w,null,m,_,G,S,!1),O>0){if(O&16)ss(w,p,B,F,m,_,b);else if(O&2&&B.class!==F.class&&i(w,"class",null,F.class,b),O&4&&i(w,"style",B.style,F.style,b),O&8){const gt=p.dynamicProps;for(let dt=0;dt<gt.length;dt++){const At=gt[dt],ve=B[At],pr=F[At];(pr!==ve||At==="value")&&i(w,At,ve,pr,b,d.children,m,_,Xe)}}O&1&&d.children!==p.children&&u(w,p.children)}else!T&&v==null&&ss(w,p,B,F,m,_,b);(($=F.onVnodeUpdated)||D)&&Ht(()=>{$&&ke($,m,p,d),D&&Vn(p,d,m,"updated")},_)},$n=(d,p,m,_,b,S,T)=>{for(let w=0;w<p.length;w++){const O=d[w],v=p[w],D=O.el&&(O.type===fe||!as(O,v)||O.shapeFlag&70)?h(O.el):m;A(O,v,D,null,_,b,S,T,!0)}},ss=(d,p,m,_,b,S,T)=>{if(m!==_){if(m!==bt)for(const w in m)!di(w)&&!(w in _)&&i(d,w,m[w],null,T,p.children,b,S,Xe);for(const w in _){if(di(w))continue;const O=_[w],v=m[w];O!==v&&w!=="value"&&i(d,w,v,O,T,p.children,b,S,Xe)}"value"in _&&i(d,"value",m.value,_.value)}},Ys=(d,p,m,_,b,S,T,w,O)=>{const v=p.el=d?d.el:a(""),D=p.anchor=d?d.anchor:a("");let{patchFlag:B,dynamicChildren:F,slotScopeIds:$}=p;$&&(w=w?w.concat($):$),d==null?(r(v,m,_),r(D,m,_),Mt(p.children,m,D,b,S,T,w,O)):B>0&&B&64&&F&&d.dynamicChildren?($n(d.dynamicChildren,F,m,b,S,T,w),(p.key!=null||b&&p===b.subTree)&&Sh(d,p,!0)):yt(d,p,m,D,b,S,T,w,O)},Gs=(d,p,m,_,b,S,T,w,O)=>{p.slotScopeIds=w,d==null?p.shapeFlag&512?b.ctx.activate(p,m,_,T,O):Uo(p,m,_,b,S,T,O):il(d,p,O)},Uo=(d,p,m,_,b,S,T)=>{const w=d.component=Yy(d,_,b);if(hh(d)&&(w.ctx.renderer=is),Gy(w),w.asyncDep){if(b&&b.registerDep(w,Nt),!d.el){const O=w.subTree=ge(Dn);q(null,O,p,m)}return}Nt(w,d,p,m,b,S,T)},il=(d,p,m)=>{const _=p.component=d.component;if(ry(d,p,m))if(_.asyncDep&&!_.asyncResolved){Ot(_,p,m);return}else _.next=p,Yp(_.update),_.update();else p.el=d.el,_.vnode=p},Nt=(d,p,m,_,b,S,T)=>{const w=()=>{if(d.isMounted){let{next:D,bu:B,u:F,parent:$,vnode:G}=d,gt=D,dt;Hn(d,!1),D?(D.el=G.el,Ot(d,D,T)):D=G,B&&fi(B),(dt=D.props&&D.props.onVnodeBeforeUpdate)&&ke(dt,$,D,G),Hn(d,!0);const At=Ho(d),ve=d.subTree;d.subTree=At,A(ve,At,h(ve.el),Zs(ve),d,b,S),D.el=At.el,gt===null&&sy(d,At.el),F&&Ht(F,b),(dt=D.props&&D.props.onVnodeUpdated)&&Ht(()=>ke(dt,$,D,G),b)}else{let D;const{el:B,props:F}=p,{bm:$,m:G,parent:gt}=d,dt=ms(p);if(Hn(d,!1),$&&fi($),!dt&&(D=F&&F.onVnodeBeforeMount)&&ke(D,gt,p),Hn(d,!0),B&&ll){const At=()=>{d.subTree=Ho(d),ll(B,d.subTree,d,b,null)};dt?p.type.__asyncLoader().then(()=>!d.isUnmounted&&At()):At()}else{const At=d.subTree=Ho(d);A(null,At,m,_,d,b,S),p.el=At.el}if(G&&Ht(G,b),!dt&&(D=F&&F.onVnodeMounted)){const At=p;Ht(()=>ke(D,gt,At),b)}(p.shapeFlag&256||gt&&ms(gt.vnode)&&gt.vnode.shapeFlag&256)&&d.a&&Ht(d.a,b),d.isMounted=!0,p=m=_=null}},O=d.effect=new ec(w,()=>cc(v),d.scope),v=d.update=()=>O.run();v.id=d.uid,Hn(d,!0),v()},Ot=(d,p,m)=>{p.component=d;const _=d.vnode.props;d.vnode=p,d.next=null,Cy(d,p.props,_,m),Py(d,p.children,m),Gr(),wl(d),Qr()},yt=(d,p,m,_,b,S,T,w,O=!1)=>{const v=d&&d.children,D=d?d.shapeFlag:0,B=p.children,{patchFlag:F,shapeFlag:$}=p;if(F>0){if(F&128){Qs(v,B,m,_,b,S,T,w,O);return}else if(F&256){Un(v,B,m,_,b,S,T,w,O);return}}$&8?(D&16&&Xe(v,b,S),B!==v&&u(m,B)):D&16?$&16?Qs(v,B,m,_,b,S,T,w,O):Xe(v,b,S,!0):(D&8&&u(m,""),$&16&&Mt(B,m,_,b,S,T,w,O))},Un=(d,p,m,_,b,S,T,w,O)=>{d=d||Tr,p=p||Tr;const v=d.length,D=p.length,B=Math.min(v,D);let F;for(F=0;F<B;F++){const $=p[F]=O?wn(p[F]):Ne(p[F]);A(d[F],$,m,null,b,S,T,w,O)}v>D?Xe(d,b,S,!0,!1,B):Mt(p,m,_,b,S,T,w,O,B)},Qs=(d,p,m,_,b,S,T,w,O)=>{let v=0;const D=p.length;let B=d.length-1,F=D-1;for(;v<=B&&v<=F;){const $=d[v],G=p[v]=O?wn(p[v]):Ne(p[v]);if(as($,G))A($,G,m,null,b,S,T,w,O);else break;v++}for(;v<=B&&v<=F;){const $=d[B],G=p[F]=O?wn(p[F]):Ne(p[F]);if(as($,G))A($,G,m,null,b,S,T,w,O);else break;B--,F--}if(v>B){if(v<=F){const $=F+1,G=$<D?p[$].el:_;for(;v<=F;)A(null,p[v]=O?wn(p[v]):Ne(p[v]),m,G,b,S,T,w,O),v++}}else if(v>F)for(;v<=B;)Ce(d[v],b,S,!0),v++;else{const $=v,G=v,gt=new Map;for(v=G;v<=F;v++){const ne=p[v]=O?wn(p[v]):Ne(p[v]);ne.key!=null&&gt.set(ne.key,v)}let dt,At=0;const ve=F-G+1;let pr=!1,ul=0;const os=new Array(ve);for(v=0;v<ve;v++)os[v]=0;for(v=$;v<=B;v++){const ne=d[v];if(At>=ve){Ce(ne,b,S,!0);continue}let Re;if(ne.key!=null)Re=gt.get(ne.key);else for(dt=G;dt<=F;dt++)if(os[dt-G]===0&&as(ne,p[dt])){Re=dt;break}Re===void 0?Ce(ne,b,S,!0):(os[Re-G]=v+1,Re>=ul?ul=Re:pr=!0,A(ne,p[Re],m,null,b,S,T,w,O),At++)}const hl=pr?jy(os):Tr;for(dt=hl.length-1,v=ve-1;v>=0;v--){const ne=G+v,Re=p[ne],dl=ne+1<D?p[ne+1].el:_;os[v]===0?A(null,Re,m,dl,b,S,T,w,O):pr&&(dt<0||v!==hl[dt]?zn(Re,m,dl,2):dt--)}}},zn=(d,p,m,_,b=null)=>{const{el:S,type:T,transition:w,children:O,shapeFlag:v}=d;if(v&6){zn(d.component.subTree,p,m,_);return}if(v&128){d.suspense.move(p,m,_);return}if(v&64){T.move(d,p,m,is);return}if(T===fe){r(S,p,m);for(let B=0;B<O.length;B++)zn(O[B],p,m,_);r(d.anchor,p,m);return}if(T===Jo){C(d,p,m);return}if(_!==2&&v&1&&w)if(_===0)w.beforeEnter(S),r(S,p,m),Ht(()=>w.enter(S),b);else{const{leave:B,delayLeave:F,afterLeave:$}=w,G=()=>r(S,p,m),gt=()=>{B(S,()=>{G(),$&&$()})};F?F(S,G,gt):gt()}else r(S,p,m)},Ce=(d,p,m,_=!1,b=!1)=>{const{type:S,props:T,ref:w,children:O,dynamicChildren:v,shapeFlag:D,patchFlag:B,dirs:F}=d;if(w!=null&&Ia(w,null,m,d,!0),D&256){p.ctx.deactivate(d);return}const $=D&1&&F,G=!ms(d);let gt;if(G&&(gt=T&&T.onVnodeBeforeUnmount)&&ke(gt,p,d),D&6)sp(d.component,m,_);else{if(D&128){d.suspense.unmount(m,_);return}$&&Vn(d,null,p,"beforeUnmount"),D&64?d.type.remove(d,p,m,b,is,_):v&&(S!==fe||B>0&&B&64)?Xe(v,p,m,!1,!0):(S===fe&&B&384||!b&&D&16)&&Xe(O,p,m),_&&ol(d)}(G&&(gt=T&&T.onVnodeUnmounted)||$)&&Ht(()=>{gt&&ke(gt,p,d),$&&Vn(d,null,p,"unmounted")},m)},ol=d=>{const{type:p,el:m,anchor:_,transition:b}=d;if(p===fe){rp(m,_);return}if(p===Jo){E(d);return}const S=()=>{s(m),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(d.shapeFlag&1&&b&&!b.persisted){const{leave:T,delayLeave:w}=b,O=()=>T(m,S);w?w(d.el,S,O):O()}else S()},rp=(d,p)=>{let m;for(;d!==p;)m=f(d),s(d),d=m;s(p)},sp=(d,p,m)=>{const{bum:_,scope:b,update:S,subTree:T,um:w}=d;_&&fi(_),b.stop(),S&&(S.active=!1,Ce(T,d,p,m)),w&&Ht(w,p),Ht(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Xe=(d,p,m,_=!1,b=!1,S=0)=>{for(let T=S;T<d.length;T++)Ce(d[T],p,m,_,b)},Zs=d=>d.shapeFlag&6?Zs(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),al=(d,p,m)=>{d==null?p._vnode&&Ce(p._vnode,null,null,!0):A(p._vnode||null,d,p,null,null,null,m),wl(),sh(),p._vnode=d},is={p:A,um:Ce,m:zn,r:ol,mt:Uo,mc:Mt,pc:yt,pbc:$n,n:Zs,o:n};let cl,ll;return{render:al,hydrate:cl,createApp:xy(al,cl)}}function Hn({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function Ny(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Sh(n,t,e=!1){const r=n.children,s=t.children;if(k(r)&&k(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=wn(s[i]),a.el=o.el),e||Sh(o,a)),a.type===mo&&(a.el=o.el)}}function jy(n){const t=n.slice(),e=[0];let r,s,i,o,a;const c=n.length;for(r=0;r<c;r++){const l=n[r];if(l!==0){if(s=e[e.length-1],n[s]<l){t[r]=s,e.push(r);continue}for(i=0,o=e.length-1;i<o;)a=i+o>>1,n[e[a]]<l?i=a+1:o=a;l<n[e[i]]&&(i>0&&(t[r]=e[i-1]),e[i]=r)}}for(i=e.length,o=e[i-1];i-- >0;)e[i]=o,o=t[o];return e}const $y=n=>n.__isTeleport,fe=Symbol.for("v-fgt"),mo=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Jo=Symbol.for("v-stc"),bs=[];let Ee=null;function Bn(n=!1){bs.push(Ee=n?null:[])}function Uy(){bs.pop(),Ee=bs[bs.length-1]||null}let Bs=1;function Rl(n){Bs+=n}function Ih(n){return n.dynamicChildren=Bs>0?Ee||Tr:null,Uy(),Bs>0&&Ee&&Ee.push(n),n}function Dr(n,t,e,r,s,i){return Ih(Ct(n,t,e,r,s,i,!0))}function Oh(n,t,e,r,s){return Ih(ge(n,t,e,r,s,!0))}function Ah(n){return n?n.__v_isVNode===!0:!1}function as(n,t){return n.type===t.type&&n.key===t.key}const _o="__vInternal",Th=({key:n})=>n??null,yi=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?xt(n)||Zt(n)||H(n)?{i:Lt,r:n,k:t,f:!!e}:n:null);function Ct(n,t=null,e=null,r=0,s=null,i=n===fe?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Th(t),ref:t&&yi(t),scopeId:po,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Lt};return a?(fc(c,e),i&128&&n.normalize(c)):e&&(c.shapeFlag|=xt(e)?8:16),Bs>0&&!o&&Ee&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ee.push(c),c}const ge=zy;function zy(n,t=null,e=null,r=0,s=null,i=!1){if((!n||n===oy)&&(n=Dn),Ah(n)){const a=Nr(n,t,!0);return e&&fc(a,e),Bs>0&&!i&&Ee&&(a.shapeFlag&6?Ee[Ee.indexOf(n)]=a:Ee.push(a)),a.patchFlag|=-2,a}if(eg(n)&&(n=n.__vccOpts),t){t=Vy(t);let{class:a,style:c}=t;a&&!xt(a)&&(t.class=Xa(a)),It(c)&&(Qu(c)&&!k(c)&&(c=kt({},c)),t.style=lo(c))}const o=xt(n)?1:cy(n)?128:$y(n)?64:It(n)?4:H(n)?2:0;return Ct(n,t,e,r,s,o,i,!0)}function Vy(n){return n?Qu(n)||_o in n?kt({},n):n:null}function Nr(n,t,e=!1){const{props:r,ref:s,patchFlag:i,children:o}=n,a=t?Ky(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&Th(a),ref:t&&t.ref?e&&s?k(s)?s.concat(yi(t)):[s,yi(t)]:yi(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==fe?i===-1?16:i|16:i,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Nr(n.ssContent),ssFallback:n.ssFallback&&Nr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function Hy(n=" ",t=0){return ge(mo,null,n,t)}function Wy(n="",t=!1){return t?(Bn(),Oh(Dn,null,n)):ge(Dn,null,n)}function Ne(n){return n==null||typeof n=="boolean"?ge(Dn):k(n)?ge(fe,null,n.slice()):typeof n=="object"?wn(n):ge(mo,null,String(n))}function wn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Nr(n)}function fc(n,t){let e=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(k(t))e=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),fc(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!(_o in t)?t._ctx=Lt:s===3&&Lt&&(Lt.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:Lt},e=32):(t=String(t),r&64?(e=16,t=[Hy(t)]):e=8);n.children=t,n.shapeFlag|=e}function Ky(...n){const t={};for(let e=0;e<n.length;e++){const r=n[e];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Xa([t.class,r.class]));else if(s==="style")t.style=lo([t.style,r.style]);else if(io(s)){const i=t[s],o=r[s];o&&i!==o&&!(k(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function ke(n,t,e,r=null){Be(n,t,7,[e,r])}const qy=gh();let Jy=0;function Yy(n,t,e){const r=n.type,s=(t?t.appContext:n.appContext)||qy,i={uid:Jy++,vnode:n,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new gp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_h(r,s),emitsOptions:oh(r,s),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:r.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Zp.bind(null,i),n.ce&&n.ce(i),i}let Rt=null,pc,yr,kl="__VUE_INSTANCE_SETTERS__";(yr=da()[kl])||(yr=da()[kl]=[]),yr.push(n=>Rt=n),pc=n=>{yr.length>1?yr.forEach(t=>t(n)):yr[0](n)};const jr=n=>{pc(n),n.scope.on()},ir=()=>{Rt&&Rt.scope.off(),pc(null)};function Eh(n){return n.vnode.shapeFlag&4}let xs=!1;function Gy(n,t=!1){xs=t;const{props:e,children:r}=n.vnode,s=Eh(n);Fy(n,e,s,t),ky(n,r);const i=s?Qy(n,t):void 0;return xs=!1,i}function Qy(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=Zu(new Proxy(n.ctx,Sy));const{setup:r}=e;if(r){const s=n.setupContext=r.length>1?Xy(n):null;jr(n),Gr();const i=En(r,n,0,[n.props,s]);if(Qr(),ir(),Pu(i)){if(i.then(ir,ir),t)return i.then(o=>{Pl(n,o,t)}).catch(o=>{ho(o,n,0)});n.asyncDep=i}else Pl(n,i,t)}else Bh(n,t)}function Pl(n,t,e){H(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:It(t)&&(n.setupState=eh(t)),Bh(n,e)}let Ll;function Bh(n,t,e){const r=n.type;if(!n.render){if(!t&&Ll&&!r.render){const s=r.template||hc(n).template;if(s){const{isCustomElement:i,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:c}=r,l=kt(kt({isCustomElement:i,delimiters:a},o),c);r.render=Ll(s,l)}}n.render=r.render||Je}{jr(n),Gr();try{Iy(n)}finally{Qr(),ir()}}}function Zy(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(t,e){return Qt(n,"get","$attrs"),t[e]}}))}function Xy(n){const t=e=>{n.exposed=e||{}};return{get attrs(){return Zy(n)},slots:n.slots,emit:n.emit,expose:t}}function bo(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(eh(Zu(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in _s)return _s[e](n)},has(t,e){return e in t||e in _s}}))}function tg(n,t=!0){return H(n)?n.displayName||n.name:n.name||t&&n.__name}function eg(n){return H(n)&&"__vccOpts"in n}const ng=(n,t)=>Wp(n,t,xs),rg=Symbol.for("v-scx"),sg=()=>pi(rg),ig="3.3.13",og="http://www.w3.org/2000/svg",Yn=typeof document<"u"?document:null,Ml=Yn&&Yn.createElement("template"),ag={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,r)=>{const s=t?Yn.createElementNS(og,n):Yn.createElement(n,e?{is:e}:void 0);return n==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:n=>Yn.createTextNode(n),createComment:n=>Yn.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Yn.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,r,s,i){const o=e?e.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===i||!(s=s.nextSibling)););else{Ml.innerHTML=r?`<svg>${n}</svg>`:n;const a=Ml.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},cg=Symbol("_vtc");function lg(n,t,e){const r=n[cg];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const yc=Symbol("_vod"),Nl={beforeMount(n,{value:t},{transition:e}){n[yc]=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):cs(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:r}){!t!=!e&&(r?t?(r.beforeEnter(n),cs(n,!0),r.enter(n)):r.leave(n,()=>{cs(n,!1)}):cs(n,t))},beforeUnmount(n,{value:t}){cs(n,t)}};function cs(n,t){n.style.display=t?n[yc]:"none"}const ug=Symbol("");function hg(n,t,e){const r=n.style,s=xt(e);if(e&&!s){if(t&&!xt(t))for(const i in t)e[i]==null&&Oa(r,i,"");for(const i in e)Oa(r,i,e[i])}else{const i=r.display;if(s){if(t!==e){const o=r[ug];o&&(e+=";"+o),r.cssText=e}}else t&&n.removeAttribute("style");yc in n&&(r.display=i)}}const jl=/\s*!important$/;function Oa(n,t,e){if(k(e))e.forEach(r=>Oa(n,t,r));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const r=dg(n,t);jl.test(e)?n.setProperty(Yr(r),e.replace(jl,""),"important"):n[r]=e}}const $l=["Webkit","Moz","ms"],Yo={};function dg(n,t){const e=Yo[t];if(e)return e;let r=Ye(t);if(r!=="filter"&&r in n)return Yo[t]=r;r=co(r);for(let s=0;s<$l.length;s++){const i=$l[s]+r;if(i in n)return Yo[t]=i}return t}const Ul="http://www.w3.org/1999/xlink";function fg(n,t,e,r,s){if(r&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(Ul,t.slice(6,t.length)):n.setAttributeNS(Ul,t,e);else{const i=yp(t);e==null||i&&!Nu(e)?n.removeAttribute(t):n.setAttribute(t,i?"":e)}}function pg(n,t,e,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),n[t]=e??"";return}const a=n.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){n._value=e;const l=a==="OPTION"?n.getAttribute("value"):n.value,u=e??"";l!==u&&(n.value=u),e==null&&n.removeAttribute(t);return}let c=!1;if(e===""||e==null){const l=typeof n[t];l==="boolean"?e=Nu(e):e==null&&l==="string"?(e="",c=!0):l==="number"&&(e=0,c=!0)}try{n[t]=e}catch{}c&&n.removeAttribute(t)}function vr(n,t,e,r){n.addEventListener(t,e,r)}function yg(n,t,e,r){n.removeEventListener(t,e,r)}const zl=Symbol("_vei");function gg(n,t,e,r,s=null){const i=n[zl]||(n[zl]={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=mg(t);if(r){const l=i[t]=vg(r,s);vr(n,a,l,c)}else o&&(yg(n,a,o,c),i[t]=void 0)}}const Vl=/(?:Once|Passive|Capture)$/;function mg(n){let t;if(Vl.test(n)){t={};let r;for(;r=n.match(Vl);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Yr(n.slice(2)),t]}let Go=0;const _g=Promise.resolve(),bg=()=>Go||(_g.then(()=>Go=0),Go=Date.now());function vg(n,t){const e=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=e.attached)return;Be(wg(r,e.value),t,5,[r])};return e.value=n,e.attached=bg(),e}function wg(n,t){if(k(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Hl=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Sg=(n,t,e,r,s=!1,i,o,a,c)=>{t==="class"?lg(n,r,s):t==="style"?hg(n,e,r):io(t)?Ga(t)||gg(n,t,e,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ig(n,t,r,s))?pg(n,t,r,i,o,a,c):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),fg(n,t,r,s))};function Ig(n,t,e,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in n&&Hl(t)&&H(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Hl(t)&&xt(e)?!1:t in n}const Wl=n=>{const t=n.props["onUpdate:modelValue"]||!1;return k(t)?e=>fi(t,e):t};function Og(n){n.target.composing=!0}function Kl(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qo=Symbol("_assign"),Ag={created(n,{modifiers:{lazy:t,trim:e,number:r}},s){n[Qo]=Wl(s);const i=r||s.props&&s.props.type==="number";vr(n,t?"change":"input",o=>{if(o.target.composing)return;let a=n.value;e&&(a=a.trim()),i&&(a=ha(a)),n[Qo](a)}),e&&vr(n,"change",()=>{n.value=n.value.trim()}),t||(vr(n,"compositionstart",Og),vr(n,"compositionend",Kl),vr(n,"change",Kl))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,modifiers:{lazy:e,trim:r,number:s}},i){if(n[Qo]=Wl(i),n.composing)return;const o=s||n.type==="number"?ha(n.value):n.value,a=t??"";o!==a&&(document.activeElement===n&&n.type!=="range"&&(e||r&&n.value.trim()===a)||(n.value=a))}},Tg=kt({patchProp:Sg},ag);let ql;function Eg(){return ql||(ql=Ly(Tg))}const Bg=(...n)=>{const t=Eg().createApp(...n),{mount:e}=t;return t.mount=r=>{const s=xg(r);if(!s)return;const i=t._component;!H(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=e(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function xg(n){return xt(n)?document.querySelector(n):n}const Dg="modulepreload",Fg=function(n,t){return new URL(n,t).href},Jl={},lr=function(t,e,r){let s=Promise.resolve();if(e&&e.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(e.map(l=>{if(l=Fg(l,r),l in Jl)return;Jl[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let I=o.length-1;I>=0;I--){const A=o[I];if(A.href===l&&(!u||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${h}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":Dg,u||(g.as="script"),g.crossOrigin="",g.href=l,c&&g.setAttribute("nonce",c),document.head.appendChild(g),u)return new Promise((I,A)=>{g.addEventListener("load",I),g.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Rg(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),e}var xh={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,gc=Ft?Symbol.for("react.element"):60103,mc=Ft?Symbol.for("react.portal"):60106,vo=Ft?Symbol.for("react.fragment"):60107,wo=Ft?Symbol.for("react.strict_mode"):60108,So=Ft?Symbol.for("react.profiler"):60114,Io=Ft?Symbol.for("react.provider"):60109,Oo=Ft?Symbol.for("react.context"):60110,_c=Ft?Symbol.for("react.async_mode"):60111,Ao=Ft?Symbol.for("react.concurrent_mode"):60111,To=Ft?Symbol.for("react.forward_ref"):60112,Eo=Ft?Symbol.for("react.suspense"):60113,kg=Ft?Symbol.for("react.suspense_list"):60120,Bo=Ft?Symbol.for("react.memo"):60115,xo=Ft?Symbol.for("react.lazy"):60116,Pg=Ft?Symbol.for("react.block"):60121,Lg=Ft?Symbol.for("react.fundamental"):60117,Mg=Ft?Symbol.for("react.responder"):60118,Ng=Ft?Symbol.for("react.scope"):60119;function le(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case gc:switch(n=n.type,n){case _c:case Ao:case vo:case So:case wo:case Eo:return n;default:switch(n=n&&n.$$typeof,n){case Oo:case To:case xo:case Bo:case Io:return n;default:return t}}case mc:return t}}}function Dh(n){return le(n)===Ao}ut.AsyncMode=_c;ut.ConcurrentMode=Ao;ut.ContextConsumer=Oo;ut.ContextProvider=Io;ut.Element=gc;ut.ForwardRef=To;ut.Fragment=vo;ut.Lazy=xo;ut.Memo=Bo;ut.Portal=mc;ut.Profiler=So;ut.StrictMode=wo;ut.Suspense=Eo;ut.isAsyncMode=function(n){return Dh(n)||le(n)===_c};ut.isConcurrentMode=Dh;ut.isContextConsumer=function(n){return le(n)===Oo};ut.isContextProvider=function(n){return le(n)===Io};ut.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===gc};ut.isForwardRef=function(n){return le(n)===To};ut.isFragment=function(n){return le(n)===vo};ut.isLazy=function(n){return le(n)===xo};ut.isMemo=function(n){return le(n)===Bo};ut.isPortal=function(n){return le(n)===mc};ut.isProfiler=function(n){return le(n)===So};ut.isStrictMode=function(n){return le(n)===wo};ut.isSuspense=function(n){return le(n)===Eo};ut.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===vo||n===Ao||n===So||n===wo||n===Eo||n===kg||typeof n=="object"&&n!==null&&(n.$$typeof===xo||n.$$typeof===Bo||n.$$typeof===Io||n.$$typeof===Oo||n.$$typeof===To||n.$$typeof===Lg||n.$$typeof===Mg||n.$$typeof===Ng||n.$$typeof===Pg)};ut.typeOf=le;xh.exports=ut;var jg=xh.exports,Fh=jg,$g={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ug={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ch={};Ch[Fh.ForwardRef]=$g;Ch[Fh.Memo]=Ug;var Rh={exports:{}},ht={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Yl=Object.getOwnPropertySymbols,zg=Object.prototype.hasOwnProperty,Vg=Object.prototype.propertyIsEnumerable;function Hg(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Wg(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Kg=Wg()?Object.assign:function(n,t){for(var e,r=Hg(n),s,i=1;i<arguments.length;i++){e=Object(arguments[i]);for(var o in e)zg.call(e,o)&&(r[o]=e[o]);if(Yl){s=Yl(e);for(var a=0;a<s.length;a++)Vg.call(e,s[a])&&(r[s[a]]=e[s[a]])}}return r};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Kg,De=typeof Symbol=="function"&&Symbol.for,Ns=De?Symbol.for("react.element"):60103,qg=De?Symbol.for("react.portal"):60106,Jg=De?Symbol.for("react.fragment"):60107,Yg=De?Symbol.for("react.strict_mode"):60108,Gg=De?Symbol.for("react.profiler"):60114,Qg=De?Symbol.for("react.provider"):60109,Zg=De?Symbol.for("react.context"):60110,Xg=De?Symbol.for("react.forward_ref"):60112,tm=De?Symbol.for("react.suspense"):60113,em=De?Symbol.for("react.memo"):60115,nm=De?Symbol.for("react.lazy"):60116,Gl=typeof Symbol=="function"&&Symbol.iterator;function js(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ph={};function Zr(n,t,e){this.props=n,this.context=t,this.refs=Ph,this.updater=e||kh}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(js(85));this.updater.enqueueSetState(this,n,t,"setState")};Zr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Lh(){}Lh.prototype=Zr.prototype;function vc(n,t,e){this.props=n,this.context=t,this.refs=Ph,this.updater=e||kh}var wc=vc.prototype=new Lh;wc.constructor=vc;bc(wc,Zr.prototype);wc.isPureReactComponent=!0;var Sc={current:null},Mh=Object.prototype.hasOwnProperty,Nh={key:!0,ref:!0,__self:!0,__source:!0};function jh(n,t,e){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Mh.call(t,r)&&!Nh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=e;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ns,type:n,key:i,ref:o,props:s,_owner:Sc.current}}function rm(n,t){return{$$typeof:Ns,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Ic(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ns}function sm(n){var t={"=":"=0",":":"=2"};return"$"+(""+n).replace(/[=:]/g,function(e){return t[e]})}var $h=/\/+/g,Bi=[];function Uh(n,t,e,r){if(Bi.length){var s=Bi.pop();return s.result=n,s.keyPrefix=t,s.func=e,s.context=r,s.count=0,s}return{result:n,keyPrefix:t,func:e,context:r,count:0}}function zh(n){n.result=null,n.keyPrefix=null,n.func=null,n.context=null,n.count=0,10>Bi.length&&Bi.push(n)}function Aa(n,t,e,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var i=!1;if(n===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(n.$$typeof){case Ns:case qg:i=!0}}if(i)return e(r,n,t===""?"."+Zo(n,0):t),1;if(i=0,t=t===""?".":t+":",Array.isArray(n))for(var o=0;o<n.length;o++){s=n[o];var a=t+Zo(s,o);i+=Aa(s,a,e,r)}else if(n===null||typeof n!="object"?a=null:(a=Gl&&n[Gl]||n["@@iterator"],a=typeof a=="function"?a:null),typeof a=="function")for(n=a.call(n),o=0;!(s=n.next()).done;)s=s.value,a=t+Zo(s,o++),i+=Aa(s,a,e,r);else if(s==="object")throw e=""+n,Error(js(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e,""));return i}function Ta(n,t,e){return n==null?0:Aa(n,"",t,e)}function Zo(n,t){return typeof n=="object"&&n!==null&&n.key!=null?sm(n.key):t.toString(36)}function im(n,t){n.func.call(n.context,t,n.count++)}function om(n,t,e){var r=n.result,s=n.keyPrefix;n=n.func.call(n.context,t,n.count++),Array.isArray(n)?Ea(n,r,e,function(i){return i}):n!=null&&(Ic(n)&&(n=rm(n,s+(!n.key||t&&t.key===n.key?"":(""+n.key).replace($h,"$&/")+"/")+e)),r.push(n))}function Ea(n,t,e,r,s){var i="";e!=null&&(i=(""+e).replace($h,"$&/")+"/"),t=Uh(t,i,r,s),Ta(n,om,t),zh(t)}var Vh={current:null};function fn(){var n=Vh.current;if(n===null)throw Error(js(321));return n}var am={ReactCurrentDispatcher:Vh,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Sc,IsSomeRendererActing:{current:!1},assign:bc};ht.Children={map:function(n,t,e){if(n==null)return n;var r=[];return Ea(n,r,null,t,e),r},forEach:function(n,t,e){if(n==null)return n;t=Uh(null,null,t,e),Ta(n,im,t),zh(t)},count:function(n){return Ta(n,function(){return null},null)},toArray:function(n){var t=[];return Ea(n,t,null,function(e){return e}),t},only:function(n){if(!Ic(n))throw Error(js(143));return n}};ht.Component=Zr;ht.Fragment=Jg;ht.Profiler=Gg;ht.PureComponent=vc;ht.StrictMode=Yg;ht.Suspense=tm;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am;ht.cloneElement=function(n,t,e){if(n==null)throw Error(js(267,n));var r=bc({},n.props),s=n.key,i=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Sc.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in t)Mh.call(t,c)&&!Nh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=e;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Ns,type:n.type,key:s,ref:i,props:r,_owner:o}};ht.createContext=function(n,t){return t===void 0&&(t=null),n={$$typeof:Zg,_calculateChangedBits:t,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:Qg,_context:n},n.Consumer=n};ht.createElement=jh;ht.createFactory=function(n){var t=jh.bind(null,n);return t.type=n,t};ht.createRef=function(){return{current:null}};ht.forwardRef=function(n){return{$$typeof:Xg,render:n}};ht.isValidElement=Ic;ht.lazy=function(n){return{$$typeof:nm,_ctor:n,_status:-1,_result:null}};ht.memo=function(n,t){return{$$typeof:em,type:n,compare:t===void 0?null:t}};ht.useCallback=function(n,t){return fn().useCallback(n,t)};ht.useContext=function(n,t){return fn().useContext(n,t)};ht.useDebugValue=function(){};ht.useEffect=function(n,t){return fn().useEffect(n,t)};ht.useImperativeHandle=function(n,t,e){return fn().useImperativeHandle(n,t,e)};ht.useLayoutEffect=function(n,t){return fn().useLayoutEffect(n,t)};ht.useMemo=function(n,t){return fn().useMemo(n,t)};ht.useReducer=function(n,t,e){return fn().useReducer(n,t,e)};ht.useRef=function(n){return fn().useRef(n)};ht.useState=function(n){return fn().useState(n)};ht.version="16.14.0";Rh.exports=ht;var cm=Rh.exports;const lm=Cg(cm);function R(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function Ql(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(n){return this instanceof K?(this.v=n,this):new K(n)}function Ke(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(g){return new Promise(function(I,A){i.push([f,g,I,A])>1||a(f,g)})})}function a(f,g){try{c(r[f](g))}catch(I){h(i[0][3],I)}}function c(f){f.value instanceof K?Promise.resolve(f.value.v).then(l,u):h(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,g){f(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}function gi(n){var t,e;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=n[s]?function(o){return(e=!e)?{value:K(n[s](o)),done:!1}:i?i(o):o}:i}}function or(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Ql=="function"?Ql(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(o){return new Promise(function(a,c){o=n[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}const um=new TextDecoder("utf-8"),Ba=n=>um.decode(n),hm=new TextEncoder,Oc=n=>hm.encode(n),[Ew,dm]=(()=>{const n=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw n()}return t.asIntN=()=>{throw n()},t.asUintN=()=>{throw n()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[$s,Bw]=(()=>{const n=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Us,xw]=(()=>{const n=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),fm=n=>typeof n=="number",Hh=n=>typeof n=="boolean",Et=n=>typeof n=="function",Xt=n=>n!=null&&Object(n)===n,Fn=n=>Xt(n)&&Et(n.then),zs=n=>Xt(n)&&Et(n[Symbol.iterator]),Xr=n=>Xt(n)&&Et(n[Symbol.asyncIterator]),xa=n=>Xt(n)&&Xt(n.schema),Wh=n=>Xt(n)&&"done"in n&&"value"in n,Kh=n=>Xt(n)&&Et(n.stat)&&fm(n.fd),qh=n=>Xt(n)&&Ac(n.body),Do=n=>"_getDOMStream"in n&&"_getNodeStream"in n,pm=n=>Xt(n)&&Et(n.abort)&&Et(n.getWriter)&&!Do(n),Ac=n=>Xt(n)&&Et(n.cancel)&&Et(n.getReader)&&!Do(n),ym=n=>Xt(n)&&Et(n.end)&&Et(n.write)&&Hh(n.writable)&&!Do(n),Jh=n=>Xt(n)&&Et(n.read)&&Et(n.pipe)&&Hh(n.readable)&&!Do(n),gm=n=>Xt(n)&&Et(n.clear)&&Et(n.bytes)&&Et(n.position)&&Et(n.setPosition)&&Et(n.capacity)&&Et(n.getBufferIdentifier)&&Et(n.createLong),Tc=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function mm(n){const t=n[0]?[n[0]]:[];let e,r,s,i;for(let o,a,c=0,l=0,u=n.length;++c<u;){if(o=t[l],a=n[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:e,byteLength:s}=o,{byteOffset:r,byteLength:i}=a,e+s<r||r+i<e){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,e,r-e+i)}return t}function Zl(n,t,e=0,r=t.byteLength){const s=n.byteLength,i=new Uint8Array(n.buffer,n.byteOffset,s),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,s));return i.set(o,e),n}function Ge(n,t){const e=mm(n),r=e.reduce((u,h)=>u+h.byteLength,0);let s,i,o,a=0,c=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const u=e.length;++c<u;){if(s=e[c],i=s.subarray(0,Math.min(s.length,l-a)),l<=a+i.length){i.length<s.length?e[c]=s.subarray(i.length):i.length===s.length&&c++,o?Zl(o,i,a):o=i;break}Zl(o||(o=new Uint8Array(l)),i,a),a+=i.length}return[o||new Uint8Array(0),e.slice(c),r-(o?o.byteLength:0)]}function ft(n,t){let e=Wh(t)?t.value:t;return e instanceof n?n===Uint8Array?new n(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=Oc(e)),e instanceof ArrayBuffer?new n(e):e instanceof Tc?new n(e):gm(e)?ft(n,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new n(0):new n(e.buffer,e.byteOffset,e.byteLength/n.BYTES_PER_ELEMENT):n.from(e)):new n(0)}const ls=n=>ft(Int32Array,n),nt=n=>ft(Uint8Array,n),Da=n=>(n.next(),n);function*_m(n,t){const e=function*(s){yield s},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Tc?e(t):zs(t)?t:e(t);return yield*Da(function*(s){let i=null;do i=s.next(yield ft(n,i));while(!i.done)}(r[Symbol.iterator]())),new n}const bm=n=>_m(Uint8Array,n);function Yh(n,t){return Ke(this,arguments,function*(){if(Fn(t))return yield K(yield K(yield*gi(or(Yh(n,yield K(t))))));const r=function(o){return Ke(this,arguments,function*(){yield yield K(yield K(o))})},s=function(o){return Ke(this,arguments,function*(){yield K(yield*gi(or(Da(function*(a){let c=null;do c=a.next(yield c==null?void 0:c.value);while(!c.done)}(o[Symbol.iterator]())))))})},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Tc?r(t):zs(t)?s(t):Xr(t)?t:r(t);return yield K(yield*gi(or(Da(function(o){return Ke(this,arguments,function*(){let a=null;do a=yield K(o.next(yield yield K(ft(n,a))));while(!a.done)})}(i[Symbol.asyncIterator]()))))),yield K(new n)})}const vm=n=>Yh(Uint8Array,n);function Ec(n,t,e){if(n!==0){e=e.slice(0,t+1);for(let r=-1;++r<=t;)e[r]+=n}return e}function wm(n,t){let e=0;const r=n.length;if(r!==t.length)return!1;if(r>0)do if(n[e]!==t[e])return!1;while(++e<r);return!0}const de={fromIterable(n){return ii(Sm(n))},fromAsyncIterable(n){return ii(Im(n))},fromDOMStream(n){return ii(Om(n))},fromNodeStream(n){return ii(Tm(n))},toDOMStream(n,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,t){throw new Error('"toNodeStream" not available in this environment')}},ii=n=>(n.next(),n);function*Sm(n){let t,e=!1,r=[],s,i,o,a=0;function c(){return i==="peek"?Ge(r,o)[0]:([s,r,a]=Ge(r,o),s)}({cmd:i,size:o}=yield null);const l=bm(n)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&s.byteLength>0&&(r.push(s),a+=s.byteLength),t||o<=a)do({cmd:i,size:o}=yield c());while(o<a);while(!t)}catch(u){(e=!0)&&typeof l.throw=="function"&&l.throw(u)}finally{e===!1&&typeof l.return=="function"&&l.return(null)}return null}function Im(n){return Ke(this,arguments,function*(){let e,r=!1,s=[],i,o,a,c=0;function l(){return o==="peek"?Ge(s,a)[0]:([i,s,c]=Ge(s,a),i)}({cmd:o,size:a}=yield yield K(null));const u=vm(n)[Symbol.asyncIterator]();try{do if({done:e,value:i}=Number.isNaN(a-c)?yield K(u.next()):yield K(u.next(a-c)),!e&&i.byteLength>0&&(s.push(i),c+=i.byteLength),e||a<=c)do({cmd:o,size:a}=yield yield K(l()));while(a<c);while(!e)}catch(h){(r=!0)&&typeof u.throw=="function"&&(yield K(u.throw(h)))}finally{r===!1&&typeof u.return=="function"&&(yield K(u.return(new Uint8Array(0))))}return yield K(null)})}function Om(n){return Ke(this,arguments,function*(){let e=!1,r=!1,s=[],i,o,a,c=0;function l(){return o==="peek"?Ge(s,a)[0]:([i,s,c]=Ge(s,a),i)}({cmd:o,size:a}=yield yield K(null));const u=new Am(n);try{do if({done:e,value:i}=Number.isNaN(a-c)?yield K(u.read()):yield K(u.read(a-c)),!e&&i.byteLength>0&&(s.push(nt(i)),c+=i.byteLength),e||a<=c)do({cmd:o,size:a}=yield yield K(l()));while(a<c);while(!e)}catch(h){(r=!0)&&(yield K(u.cancel(h)))}finally{r===!1?yield K(u.cancel()):n.locked&&u.releaseLock()}return yield K(null)})}class Am{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return R(this,void 0,void 0,function*(){const{reader:e,source:r}=this;e&&(yield e.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return R(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=nt(e)),e})}}const Xo=(n,t)=>{const e=s=>r([t,s]);let r;return[t,e,new Promise(s=>(r=s)&&n.once(t,e))]};function Tm(n){return Ke(this,arguments,function*(){const e=[];let r="error",s=!1,i=null,o,a,c=0,l=[],u;function h(){return o==="peek"?Ge(l,a)[0]:([u,l,c]=Ge(l,a),u)}if({cmd:o,size:a}=yield yield K(null),n.isTTY)return yield yield K(new Uint8Array(0)),yield K(null);try{e[0]=Xo(n,"end"),e[1]=Xo(n,"error");do{if(e[2]=Xo(n,"readable"),[r,i]=yield K(Promise.race(e.map(g=>g[2]))),r==="error")break;if((s=r==="end")||(Number.isFinite(a-c)?(u=nt(n.read(a-c)),u.byteLength<a-c&&(u=nt(n.read()))):u=nt(n.read()),u.byteLength>0&&(l.push(u),c+=u.byteLength)),s||a<=c)do({cmd:o,size:a}=yield yield K(h()));while(a<c)}while(!s)}finally{yield K(f(e,r==="error"?i:null))}return yield K(null);function f(g,I){return u=l=null,new Promise((A,x)=>{for(const[q,et]of g)n.off(q,et);try{const q=n.destroy;q&&q.call(n,I),I=void 0}catch(q){I=q||I}finally{I!=null?x(I):A()}})}})}var oe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(oe||(oe={}));var ae;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(ae||(ae={}));var Gt;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(Gt||(Gt={}));var hn;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(hn||(hn={}));var rt;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(rt||(rt={}));var Cn;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Cn||(Cn={}));var ot;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(ot||(ot={}));var y;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(y||(y={}));var nn;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(nn||(nn={}));const Em=void 0;function Ds(n){if(n===null)return"null";if(n===Em)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof $s||n instanceof Us?`[${[...n].map(t=>Ds(t))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(t,e)=>typeof e=="bigint"?`${e}`:e)}const Bm=Symbol.for("isArrowBigNum");function Fe(n,...t){return t.length===0?Object.setPrototypeOf(ft(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...t),this.constructor.prototype)}Fe.prototype[Bm]=!0;Fe.prototype.toJSON=function(){return`"${ar(this)}"`};Fe.prototype.valueOf=function(){return Gh(this)};Fe.prototype.toString=function(){return ar(this)};Fe.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return Gh(this);case"string":return ar(this);case"default":return Fa(this)}return ar(this)};function Fr(...n){return Fe.apply(this,n)}function Cr(...n){return Fe.apply(this,n)}function Fs(...n){return Fe.apply(this,n)}Object.setPrototypeOf(Fr.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Cr.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Fs.prototype,Object.create(Uint32Array.prototype));Object.assign(Fr.prototype,Fe.prototype,{constructor:Fr,signed:!0,TypedArray:Int32Array,BigIntArray:$s});Object.assign(Cr.prototype,Fe.prototype,{constructor:Cr,signed:!1,TypedArray:Uint32Array,BigIntArray:Us});Object.assign(Fs.prototype,Fe.prototype,{constructor:Fs,signed:!0,TypedArray:Uint32Array,BigIntArray:Us});function Gh(n){const{buffer:t,byteOffset:e,length:r,signed:s}=n,i=new Us(t,e,r),o=s&&i[i.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),c=BigInt(0);if(o){for(const l of i)a+=~l*(BigInt(1)<<BigInt(32)*c++);a*=BigInt(-1)}else for(const l of i)a+=l*(BigInt(1)<<BigInt(32)*c++);return a}let ar,Fa;dm?(Fa=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:ta(n),ar=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:ta(n)):(ar=ta,Fa=ar);function ta(n){let t="";const e=new Uint32Array(2);let r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);const s=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let i=-1;const o=r.length-1;do{for(e[0]=r[i=0];i<o;)r[i++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+r[i];r[i]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t??"0"}class Bc{static new(t,e){switch(e){case!0:return new Fr(t);case!1:return new Cr(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case $s:return new Fr(t)}return t.byteLength===16?new Fs(t):new Cr(t)}static signed(t){return new Fr(t)}static unsigned(t){return new Cr(t)}static decimal(t){return new Fs(t)}constructor(t,e){return Bc.new(t,e)}}var Qh,Zh,Xh,td,ed,nd,rd,sd,id,od,ad,cd,ld,ud,hd,dd,fd,pd,yd;class P{static isNull(t){return(t==null?void 0:t.typeId)===y.Null}static isInt(t){return(t==null?void 0:t.typeId)===y.Int}static isFloat(t){return(t==null?void 0:t.typeId)===y.Float}static isBinary(t){return(t==null?void 0:t.typeId)===y.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===y.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===y.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===y.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===y.Date}static isTime(t){return(t==null?void 0:t.typeId)===y.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===y.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===y.Interval}static isList(t){return(t==null?void 0:t.typeId)===y.List}static isStruct(t){return(t==null?void 0:t.typeId)===y.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===y.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===y.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===y.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===y.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===y.Dictionary}static isDenseUnion(t){return P.isUnion(t)&&t.mode===ae.Dense}static isSparseUnion(t){return P.isUnion(t)&&t.mode===ae.Sparse}get typeId(){return y.NONE}}Qh=Symbol.toStringTag;P[Qh]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(P.prototype);let Rn=class extends P{toString(){return"Null"}get typeId(){return y.Null}};Zh=Symbol.toStringTag;Rn[Zh]=(n=>n[Symbol.toStringTag]="Null")(Rn.prototype);class kn extends P{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return y.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?$s:Us}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Xh=Symbol.toStringTag;kn[Xh]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(kn.prototype);class Cs extends kn{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Cs.prototype,"ArrayType",{value:Int32Array});class Rs extends P{constructor(t){super(),this.precision=t}get typeId(){return y.Float}get ArrayType(){switch(this.precision){case Gt.HALF:return Uint16Array;case Gt.SINGLE:return Float32Array;case Gt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}td=Symbol.toStringTag;Rs[td]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(Rs.prototype);let xi=class extends P{constructor(){super()}get typeId(){return y.Binary}toString(){return"Binary"}};ed=Symbol.toStringTag;xi[ed]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(xi.prototype);let Di=class extends P{constructor(){super()}get typeId(){return y.Utf8}toString(){return"Utf8"}};nd=Symbol.toStringTag;Di[nd]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(Di.prototype);let Fi=class extends P{constructor(){super()}get typeId(){return y.Bool}toString(){return"Bool"}};rd=Symbol.toStringTag;Fi[rd]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(Fi.prototype);let Ci=class extends P{constructor(t,e,r=128){super(),this.scale=t,this.precision=e,this.bitWidth=r}get typeId(){return y.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};sd=Symbol.toStringTag;Ci[sd]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(Ci.prototype);class Ri extends P{constructor(t){super(),this.unit=t}get typeId(){return y.Date}toString(){return`Date${(this.unit+1)*32}<${hn[this.unit]}>`}}id=Symbol.toStringTag;Ri[id]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(Ri.prototype);class ks extends P{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return y.Time}toString(){return`Time${this.bitWidth}<${rt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return $s}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}od=Symbol.toStringTag;ks[od]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(ks.prototype);class ki extends P{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return y.Timestamp}toString(){return`Timestamp<${rt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}ad=Symbol.toStringTag;ki[ad]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(ki.prototype);class Pi extends P{constructor(t){super(),this.unit=t}get typeId(){return y.Interval}toString(){return`Interval<${Cn[this.unit]}>`}}cd=Symbol.toStringTag;Pi[cd]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(Pi.prototype);let Li=class extends P{constructor(t){super(),this.children=[t]}get typeId(){return y.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ld=Symbol.toStringTag;Li[ld]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(Li.prototype);class Ut extends P{constructor(t){super(),this.children=t}get typeId(){return y.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}ud=Symbol.toStringTag;Ut[ud]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(Ut.prototype);class Mi extends P{constructor(t,e,r){super(),this.mode=t,this.children=r,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((s,i,o)=>(s[i]=o)&&s||s,Object.create(null))}get typeId(){return y.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}hd=Symbol.toStringTag;Mi[hd]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(Mi.prototype);let Ni=class extends P{constructor(t){super(),this.byteWidth=t}get typeId(){return y.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};dd=Symbol.toStringTag;Ni[dd]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(Ni.prototype);let ji=class extends P{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return y.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};fd=Symbol.toStringTag;ji[fd]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(ji.prototype);class $i extends P{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return y.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}pd=Symbol.toStringTag;$i[pd]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))($i.prototype);const xm=(n=>()=>++n)(-1);class $r extends P{constructor(t,e,r,s){super(),this.indices=e,this.dictionary=t,this.isOrdered=s||!1,this.id=r==null?xm():typeof r=="number"?r:r.low}get typeId(){return y.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}yd=Symbol.toStringTag;$r[yd]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))($r.prototype);function rn(n){const t=n;switch(n.typeId){case y.Decimal:return n.bitWidth/32;case y.Timestamp:return 2;case y.Date:return 1+t.unit;case y.Interval:return 1+t.unit;case y.FixedSizeList:return t.listSize;case y.FixedSizeBinary:return t.byteWidth;default:return 1}}class X{visitMany(t,...e){return t.map((r,s)=>this.visit(r,...e.map(i=>i[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return Dm(this,t,e)}getVisitFnByTypeId(t,e=!0){return wr(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function Dm(n,t,e=!0){return typeof t=="number"?wr(n,t,e):typeof t=="string"&&t in y?wr(n,y[t],e):t&&t instanceof P?wr(n,Xl(t),e):t!=null&&t.type&&t.type instanceof P?wr(n,Xl(t.type),e):wr(n,y.NONE,e)}function wr(n,t,e=!0){let r=null;switch(t){case y.Null:r=n.visitNull;break;case y.Bool:r=n.visitBool;break;case y.Int:r=n.visitInt;break;case y.Int8:r=n.visitInt8||n.visitInt;break;case y.Int16:r=n.visitInt16||n.visitInt;break;case y.Int32:r=n.visitInt32||n.visitInt;break;case y.Int64:r=n.visitInt64||n.visitInt;break;case y.Uint8:r=n.visitUint8||n.visitInt;break;case y.Uint16:r=n.visitUint16||n.visitInt;break;case y.Uint32:r=n.visitUint32||n.visitInt;break;case y.Uint64:r=n.visitUint64||n.visitInt;break;case y.Float:r=n.visitFloat;break;case y.Float16:r=n.visitFloat16||n.visitFloat;break;case y.Float32:r=n.visitFloat32||n.visitFloat;break;case y.Float64:r=n.visitFloat64||n.visitFloat;break;case y.Utf8:r=n.visitUtf8;break;case y.Binary:r=n.visitBinary;break;case y.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case y.Date:r=n.visitDate;break;case y.DateDay:r=n.visitDateDay||n.visitDate;break;case y.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case y.Timestamp:r=n.visitTimestamp;break;case y.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case y.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case y.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case y.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case y.Time:r=n.visitTime;break;case y.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case y.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case y.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case y.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case y.Decimal:r=n.visitDecimal;break;case y.List:r=n.visitList;break;case y.Struct:r=n.visitStruct;break;case y.Union:r=n.visitUnion;break;case y.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case y.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case y.Dictionary:r=n.visitDictionary;break;case y.Interval:r=n.visitInterval;break;case y.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case y.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case y.FixedSizeList:r=n.visitFixedSizeList;break;case y.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!e)return()=>null;throw new Error(`Unrecognized type '${y[t]}'`)}function Xl(n){switch(n.typeId){case y.Null:return y.Null;case y.Int:{const{bitWidth:t,isSigned:e}=n;switch(t){case 8:return e?y.Int8:y.Uint8;case 16:return e?y.Int16:y.Uint16;case 32:return e?y.Int32:y.Uint32;case 64:return e?y.Int64:y.Uint64}return y.Int}case y.Float:switch(n.precision){case Gt.HALF:return y.Float16;case Gt.SINGLE:return y.Float32;case Gt.DOUBLE:return y.Float64}return y.Float;case y.Binary:return y.Binary;case y.Utf8:return y.Utf8;case y.Bool:return y.Bool;case y.Decimal:return y.Decimal;case y.Time:switch(n.unit){case rt.SECOND:return y.TimeSecond;case rt.MILLISECOND:return y.TimeMillisecond;case rt.MICROSECOND:return y.TimeMicrosecond;case rt.NANOSECOND:return y.TimeNanosecond}return y.Time;case y.Timestamp:switch(n.unit){case rt.SECOND:return y.TimestampSecond;case rt.MILLISECOND:return y.TimestampMillisecond;case rt.MICROSECOND:return y.TimestampMicrosecond;case rt.NANOSECOND:return y.TimestampNanosecond}return y.Timestamp;case y.Date:switch(n.unit){case hn.DAY:return y.DateDay;case hn.MILLISECOND:return y.DateMillisecond}return y.Date;case y.Interval:switch(n.unit){case Cn.DAY_TIME:return y.IntervalDayTime;case Cn.YEAR_MONTH:return y.IntervalYearMonth}return y.Interval;case y.Map:return y.Map;case y.List:return y.List;case y.Struct:return y.Struct;case y.Union:switch(n.mode){case ae.Dense:return y.DenseUnion;case ae.Sparse:return y.SparseUnion}return y.Union;case y.FixedSizeBinary:return y.FixedSizeBinary;case y.FixedSizeList:return y.FixedSizeList;case y.Dictionary:return y.Dictionary}throw new Error(`Unrecognized type '${y[n.typeId]}'`)}X.prototype.visitInt8=null;X.prototype.visitInt16=null;X.prototype.visitInt32=null;X.prototype.visitInt64=null;X.prototype.visitUint8=null;X.prototype.visitUint16=null;X.prototype.visitUint32=null;X.prototype.visitUint64=null;X.prototype.visitFloat16=null;X.prototype.visitFloat32=null;X.prototype.visitFloat64=null;X.prototype.visitDateDay=null;X.prototype.visitDateMillisecond=null;X.prototype.visitTimestampSecond=null;X.prototype.visitTimestampMillisecond=null;X.prototype.visitTimestampMicrosecond=null;X.prototype.visitTimestampNanosecond=null;X.prototype.visitTimeSecond=null;X.prototype.visitTimeMillisecond=null;X.prototype.visitTimeMicrosecond=null;X.prototype.visitTimeNanosecond=null;X.prototype.visitDenseUnion=null;X.prototype.visitSparseUnion=null;X.prototype.visitIntervalDayTime=null;X.prototype.visitIntervalYearMonth=null;const gd=new Float64Array(1),gr=new Uint32Array(gd.buffer);function md(n){const t=(n&31744)>>10,e=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(t){case 31:return r*(e?Number.NaN:1/0);case 0:return r*(e?6103515625e-14*e:0)}return r*Math.pow(2,t-15)*(1+e)}function Fm(n){if(n!==n)return 32256;gd[0]=n;const t=(gr[1]&2147483648)>>16&65535;let e=gr[1]&2146435072,r=0;return e>=1089470464?gr[0]>0?e=31744:(e=(e&2080374784)>>16,r=(gr[1]&1048575)>>10):e<=1056964608?(r=1048576+(gr[1]&1048575),r=1048576+(r<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,r=(gr[1]&1048575)+512>>10),t|e|r&65535}class U extends X{}function W(n){return(t,e,r)=>{if(t.setValid(e,r!=null))return n(t,e,r)}}const Cm=(n,t,e)=>{n[t]=Math.trunc(e/864e5)},xc=(n,t,e)=>{n[t]=Math.trunc(e%4294967296),n[t+1]=Math.trunc(e/4294967296)},Rm=(n,t,e)=>{n[t]=Math.trunc(e*1e3%4294967296),n[t+1]=Math.trunc(e*1e3/4294967296)},km=(n,t,e)=>{n[t]=Math.trunc(e*1e6%4294967296),n[t+1]=Math.trunc(e*1e6/4294967296)},_d=(n,t,e,r)=>{if(e+1<t.length){const{[e]:s,[e+1]:i}=t;n.set(r.subarray(0,i-s),s)}},Pm=({offset:n,values:t},e,r)=>{const s=n+e;r?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},pn=({values:n},t,e)=>{n[t]=e},Dc=({values:n},t,e)=>{n[t]=e},bd=({values:n},t,e)=>{n[t]=Fm(e)},Lm=(n,t,e)=>{switch(n.type.precision){case Gt.HALF:return bd(n,t,e);case Gt.SINGLE:case Gt.DOUBLE:return Dc(n,t,e)}},vd=({values:n},t,e)=>{Cm(n,t,e.valueOf())},wd=({values:n},t,e)=>{xc(n,t*2,e.valueOf())},Mm=({stride:n,values:t},e,r)=>{t.set(r.subarray(0,n),n*e)},Nm=({values:n,valueOffsets:t},e,r)=>_d(n,t,e,r),jm=({values:n,valueOffsets:t},e,r)=>{_d(n,t,e,Oc(r))},$m=(n,t,e)=>{n.type.unit===hn.DAY?vd(n,t,e):wd(n,t,e)},Sd=({values:n},t,e)=>xc(n,t*2,e/1e3),Id=({values:n},t,e)=>xc(n,t*2,e),Od=({values:n},t,e)=>Rm(n,t*2,e),Ad=({values:n},t,e)=>km(n,t*2,e),Um=(n,t,e)=>{switch(n.type.unit){case rt.SECOND:return Sd(n,t,e);case rt.MILLISECOND:return Id(n,t,e);case rt.MICROSECOND:return Od(n,t,e);case rt.NANOSECOND:return Ad(n,t,e)}},Td=({values:n},t,e)=>{n[t]=e},Ed=({values:n},t,e)=>{n[t]=e},Bd=({values:n},t,e)=>{n[t]=e},xd=({values:n},t,e)=>{n[t]=e},zm=(n,t,e)=>{switch(n.type.unit){case rt.SECOND:return Td(n,t,e);case rt.MILLISECOND:return Ed(n,t,e);case rt.MICROSECOND:return Bd(n,t,e);case rt.NANOSECOND:return xd(n,t,e)}},Vm=({values:n,stride:t},e,r)=>{n.set(r.subarray(0,t),t*e)},Hm=(n,t,e)=>{const r=n.children[0],s=n.valueOffsets,i=_e.getVisitFn(r);if(Array.isArray(e))for(let o=-1,a=s[t],c=s[t+1];a<c;)i(r,a++,e[++o]);else for(let o=-1,a=s[t],c=s[t+1];a<c;)i(r,a++,e.get(++o))},Wm=(n,t,e)=>{const r=n.children[0],{valueOffsets:s}=n,i=_e.getVisitFn(r);let{[t]:o,[t+1]:a}=s;const c=e instanceof Map?e.entries():Object.entries(e);for(const l of c)if(i(r,o,l),++o>=a)break},Km=(n,t)=>(e,r,s,i)=>r&&e(r,n,t[i]),qm=(n,t)=>(e,r,s,i)=>r&&e(r,n,t.get(i)),Jm=(n,t)=>(e,r,s,i)=>r&&e(r,n,t.get(s.name)),Ym=(n,t)=>(e,r,s,i)=>r&&e(r,n,t[s.name]),Gm=(n,t,e)=>{const r=n.type.children.map(i=>_e.getVisitFn(i.type)),s=e instanceof Map?Jm(t,e):e instanceof at?qm(t,e):Array.isArray(e)?Km(t,e):Ym(t,e);n.type.children.forEach((i,o)=>s(r[o],n.children[o],i,o))},Qm=(n,t,e)=>{n.type.mode===ae.Dense?Dd(n,t,e):Fd(n,t,e)},Dd=(n,t,e)=>{const r=n.type.typeIdToChildIndex[n.typeIds[t]],s=n.children[r];_e.visit(s,n.valueOffsets[t],e)},Fd=(n,t,e)=>{const r=n.type.typeIdToChildIndex[n.typeIds[t]],s=n.children[r];_e.visit(s,t,e)},Zm=(n,t,e)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[t],e)},Xm=(n,t,e)=>{n.type.unit===Cn.DAY_TIME?Cd(n,t,e):Rd(n,t,e)},Cd=({values:n},t,e)=>{n.set(e.subarray(0,2),2*t)},Rd=({values:n},t,e)=>{n[t]=e[0]*12+e[1]%12},t_=(n,t,e)=>{const{stride:r}=n,s=n.children[0],i=_e.getVisitFn(s);if(Array.isArray(e))for(let o=-1,a=t*r;++o<r;)i(s,a+o,e[o]);else for(let o=-1,a=t*r;++o<r;)i(s,a+o,e.get(o))};U.prototype.visitBool=W(Pm);U.prototype.visitInt=W(pn);U.prototype.visitInt8=W(pn);U.prototype.visitInt16=W(pn);U.prototype.visitInt32=W(pn);U.prototype.visitInt64=W(pn);U.prototype.visitUint8=W(pn);U.prototype.visitUint16=W(pn);U.prototype.visitUint32=W(pn);U.prototype.visitUint64=W(pn);U.prototype.visitFloat=W(Lm);U.prototype.visitFloat16=W(bd);U.prototype.visitFloat32=W(Dc);U.prototype.visitFloat64=W(Dc);U.prototype.visitUtf8=W(jm);U.prototype.visitBinary=W(Nm);U.prototype.visitFixedSizeBinary=W(Mm);U.prototype.visitDate=W($m);U.prototype.visitDateDay=W(vd);U.prototype.visitDateMillisecond=W(wd);U.prototype.visitTimestamp=W(Um);U.prototype.visitTimestampSecond=W(Sd);U.prototype.visitTimestampMillisecond=W(Id);U.prototype.visitTimestampMicrosecond=W(Od);U.prototype.visitTimestampNanosecond=W(Ad);U.prototype.visitTime=W(zm);U.prototype.visitTimeSecond=W(Td);U.prototype.visitTimeMillisecond=W(Ed);U.prototype.visitTimeMicrosecond=W(Bd);U.prototype.visitTimeNanosecond=W(xd);U.prototype.visitDecimal=W(Vm);U.prototype.visitList=W(Hm);U.prototype.visitStruct=W(Gm);U.prototype.visitUnion=W(Qm);U.prototype.visitDenseUnion=W(Dd);U.prototype.visitSparseUnion=W(Fd);U.prototype.visitDictionary=W(Zm);U.prototype.visitInterval=W(Xm);U.prototype.visitIntervalDayTime=W(Cd);U.prototype.visitIntervalYearMonth=W(Rd);U.prototype.visitFixedSizeList=W(t_);U.prototype.visitMap=W(Wm);const _e=new U,Ie=Symbol.for("parent"),Rr=Symbol.for("rowIndex");class Fc{constructor(t,e){return this[Ie]=t,this[Rr]=e,new Proxy(this,new n_)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Rr],e=this[Ie],r=e.type.children,s={};for(let i=-1,o=r.length;++i<o;)s[r[i].name]=te.visit(e.children[i],t);return s}toString(){return`{${[...this].map(([t,e])=>`${Ds(t)}: ${Ds(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new e_(this[Ie],this[Rr])}}class e_{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,te.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Fc.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ie]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Rr]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class n_{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ie].type.children.map(e=>e.name)}has(t,e){return t[Ie].type.children.findIndex(r=>r.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[Ie].type.children.findIndex(r=>r.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const r=t[Ie].type.children.findIndex(s=>s.name===e);if(r!==-1){const s=te.visit(t[Ie].children[r],t[Rr]);return Reflect.set(t,e,s),s}}set(t,e,r){const s=t[Ie].type.children.findIndex(i=>i.name===e);return s!==-1?(_e.visit(t[Ie].children[s],t[Rr],r),Reflect.set(t,e,r)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,r):!1}}class L extends X{}function z(n){return(t,e)=>t.getValid(e)?n(t,e):null}const r_=(n,t)=>864e5*n[t],Cc=(n,t)=>4294967296*n[t+1]+(n[t]>>>0),s_=(n,t)=>4294967296*(n[t+1]/1e3)+(n[t]>>>0)/1e3,i_=(n,t)=>4294967296*(n[t+1]/1e6)+(n[t]>>>0)/1e6,kd=n=>new Date(n),o_=(n,t)=>kd(r_(n,t)),a_=(n,t)=>kd(Cc(n,t)),c_=(n,t)=>null,Pd=(n,t,e)=>{if(e+1>=t.length)return null;const r=t[e],s=t[e+1];return n.subarray(r,s)},l_=({offset:n,values:t},e)=>{const r=n+e;return(t[r>>3]&1<<r%8)!==0},Ld=({values:n},t)=>o_(n,t),Md=({values:n},t)=>a_(n,t*2),Mn=({stride:n,values:t},e)=>t[n*e],u_=({stride:n,values:t},e)=>md(t[n*e]),Nd=({values:n},t)=>n[t],h_=({stride:n,values:t},e)=>t.subarray(n*e,n*(e+1)),d_=({values:n,valueOffsets:t},e)=>Pd(n,t,e),f_=({values:n,valueOffsets:t},e)=>{const r=Pd(n,t,e);return r!==null?Ba(r):null},p_=({values:n},t)=>n[t],y_=({type:n,values:t},e)=>n.precision!==Gt.HALF?t[e]:md(t[e]),g_=(n,t)=>n.type.unit===hn.DAY?Ld(n,t):Md(n,t),jd=({values:n},t)=>1e3*Cc(n,t*2),$d=({values:n},t)=>Cc(n,t*2),Ud=({values:n},t)=>s_(n,t*2),zd=({values:n},t)=>i_(n,t*2),m_=(n,t)=>{switch(n.type.unit){case rt.SECOND:return jd(n,t);case rt.MILLISECOND:return $d(n,t);case rt.MICROSECOND:return Ud(n,t);case rt.NANOSECOND:return zd(n,t)}},Vd=({values:n},t)=>n[t],Hd=({values:n},t)=>n[t],Wd=({values:n},t)=>n[t],Kd=({values:n},t)=>n[t],__=(n,t)=>{switch(n.type.unit){case rt.SECOND:return Vd(n,t);case rt.MILLISECOND:return Hd(n,t);case rt.MICROSECOND:return Wd(n,t);case rt.NANOSECOND:return Kd(n,t)}},b_=({values:n,stride:t},e)=>Bc.decimal(n.subarray(t*e,t*(e+1))),v_=(n,t)=>{const{valueOffsets:e,stride:r,children:s}=n,{[t*r]:i,[t*r+1]:o}=e,c=s[0].slice(i,o-i);return new at([c])},w_=(n,t)=>{const{valueOffsets:e,children:r}=n,{[t]:s,[t+1]:i}=e,o=r[0];return new Rc(o.slice(s,i-s))},S_=(n,t)=>new Fc(n,t),I_=(n,t)=>n.type.mode===ae.Dense?qd(n,t):Jd(n,t),qd=(n,t)=>{const e=n.type.typeIdToChildIndex[n.typeIds[t]],r=n.children[e];return te.visit(r,n.valueOffsets[t])},Jd=(n,t)=>{const e=n.type.typeIdToChildIndex[n.typeIds[t]],r=n.children[e];return te.visit(r,t)},O_=(n,t)=>{var e;return(e=n.dictionary)===null||e===void 0?void 0:e.get(n.values[t])},A_=(n,t)=>n.type.unit===Cn.DAY_TIME?Yd(n,t):Gd(n,t),Yd=({values:n},t)=>n.subarray(2*t,2*(t+1)),Gd=({values:n},t)=>{const e=n[t],r=new Int32Array(2);return r[0]=Math.trunc(e/12),r[1]=Math.trunc(e%12),r},T_=(n,t)=>{const{stride:e,children:r}=n,i=r[0].slice(t*e,e);return new at([i])};L.prototype.visitNull=z(c_);L.prototype.visitBool=z(l_);L.prototype.visitInt=z(p_);L.prototype.visitInt8=z(Mn);L.prototype.visitInt16=z(Mn);L.prototype.visitInt32=z(Mn);L.prototype.visitInt64=z(Nd);L.prototype.visitUint8=z(Mn);L.prototype.visitUint16=z(Mn);L.prototype.visitUint32=z(Mn);L.prototype.visitUint64=z(Nd);L.prototype.visitFloat=z(y_);L.prototype.visitFloat16=z(u_);L.prototype.visitFloat32=z(Mn);L.prototype.visitFloat64=z(Mn);L.prototype.visitUtf8=z(f_);L.prototype.visitBinary=z(d_);L.prototype.visitFixedSizeBinary=z(h_);L.prototype.visitDate=z(g_);L.prototype.visitDateDay=z(Ld);L.prototype.visitDateMillisecond=z(Md);L.prototype.visitTimestamp=z(m_);L.prototype.visitTimestampSecond=z(jd);L.prototype.visitTimestampMillisecond=z($d);L.prototype.visitTimestampMicrosecond=z(Ud);L.prototype.visitTimestampNanosecond=z(zd);L.prototype.visitTime=z(__);L.prototype.visitTimeSecond=z(Vd);L.prototype.visitTimeMillisecond=z(Hd);L.prototype.visitTimeMicrosecond=z(Wd);L.prototype.visitTimeNanosecond=z(Kd);L.prototype.visitDecimal=z(b_);L.prototype.visitList=z(v_);L.prototype.visitStruct=z(S_);L.prototype.visitUnion=z(I_);L.prototype.visitDenseUnion=z(qd);L.prototype.visitSparseUnion=z(Jd);L.prototype.visitDictionary=z(O_);L.prototype.visitInterval=z(A_);L.prototype.visitIntervalDayTime=z(Yd);L.prototype.visitIntervalYearMonth=z(Gd);L.prototype.visitFixedSizeList=z(T_);L.prototype.visitMap=z(w_);const te=new L,$e=Symbol.for("keys"),kr=Symbol.for("vals");class Rc{constructor(t){return this[$e]=new at([t.children[0]]).memoize(),this[kr]=t.children[1],new Proxy(this,new B_)}[Symbol.iterator](){return new E_(this[$e],this[kr])}get size(){return this[$e].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[$e],e=this[kr],r={};for(let s=-1,i=t.length;++s<i;)r[t.get(s)]=te.visit(e,s);return r}toString(){return`{${[...this].map(([t,e])=>`${Ds(t)}: ${Ds(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class E_{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),te.visit(this.vals,t)]})}}class B_{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[$e].toArray().map(String)}has(t,e){return t[$e].includes(e)}getOwnPropertyDescriptor(t,e){if(t[$e].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const r=t[$e].indexOf(e);if(r!==-1){const s=te.visit(Reflect.get(t,kr),r);return Reflect.set(t,e,s),s}}set(t,e,r){const s=t[$e].indexOf(e);return s!==-1?(_e.visit(Reflect.get(t,kr),s,r),Reflect.set(t,e,r)):Reflect.has(t,e)?Reflect.set(t,e,r):!1}}Object.defineProperties(Rc.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$e]:{writable:!0,enumerable:!1,configurable:!1,value:null},[kr]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let tu;function Qd(n,t,e,r){const{length:s=0}=n;let i=typeof t!="number"?0:t,o=typeof e!="number"?s:e;return i<0&&(i=(i%s+s)%s),o<0&&(o=(o%s+s)%s),o<i&&(tu=i,i=o,o=tu),o>s&&(o=s),r?r(n,i,o):[i,o]}const eu=n=>n!==n;function ts(n){if(typeof n!=="object"||n===null)return eu(n)?eu:e=>e===n;if(n instanceof Date){const e=n.valueOf();return r=>r instanceof Date?r.valueOf()===e:!1}return ArrayBuffer.isView(n)?e=>e?wm(n,e):!1:n instanceof Map?D_(n):Array.isArray(n)?x_(n):n instanceof at?F_(n):C_(n,!0)}function x_(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=ts(n[e]);return Fo(t)}function D_(n){let t=-1;const e=[];for(const r of n.values())e[++t]=ts(r);return Fo(e)}function F_(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=ts(n.get(e));return Fo(t)}function C_(n,t=!1){const e=Object.keys(n);if(!t&&e.length===0)return()=>!1;const r=[];for(let s=-1,i=e.length;++s<i;)r[s]=ts(n[e[s]]);return Fo(r,e)}function Fo(n,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return R_(n,e);case Map:return nu(n,e,e.keys());case Rc:case Fc:case Object:case void 0:return nu(n,e,t||Object.keys(e))}return e instanceof at?k_(n,e):!1}}function R_(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t[r]))return!1;return!0}function k_(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t.get(r)))return!1;return!0}function nu(n,t,e){const r=e[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),i=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=n.length;let c=i.next(),l=r.next(),u=s.next();for(;o<a&&!l.done&&!u.done&&!c.done&&!(l.value!==u.value||!n[o](c.value));++o,l=r.next(),u=s.next(),c=i.next());return o===a&&l.done&&u.done&&c.done?!0:(r.return&&r.return(),s.return&&s.return(),i.return&&i.return(),!1)}function Zd(n,t,e,r){return(e&1<<r)!==0}function P_(n,t,e,r){return(e&1<<r)>>r}function kc(n,t,e){const r=e.byteLength+7&-8;if(n>0||e.byteLength<r){const s=new Uint8Array(r);return s.set(n%8===0?e.subarray(n>>3):Ui(new Pc(e,n,t,null,Zd)).subarray(0,r)),s}return e}function Ui(n){const t=[];let e=0,r=0,s=0;for(const o of n)o&&(s|=1<<r),++r===8&&(t[e++]=s,s=r=0);(e===0||r>0)&&(t[e++]=s);const i=new Uint8Array(t.length+7&-8);return i.set(t),i}class Pc{constructor(t,e,r,s,i){this.bytes=t,this.length=r,this.context=s,this.get=i,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ca(n,t,e){if(e-t<=0)return 0;if(e-t<8){let i=0;for(const o of new Pc(n,t,e-t,n,P_))i+=o;return i}const r=e>>3<<3,s=t+(t%8===0?0:8-t%8);return Ca(n,t,s)+Ca(n,r,e)+L_(n,s>>3,r-s>>3)}function L_(n,t,e){let r=0,s=Math.trunc(t);const i=new DataView(n.buffer,n.byteOffset,n.byteLength),o=e===void 0?n.byteLength:s+e;for(;o-s>=4;)r+=ea(i.getUint32(s)),s+=4;for(;o-s>=2;)r+=ea(i.getUint16(s)),s+=2;for(;o-s>=1;)r+=ea(i.getUint8(s)),s+=1;return r}function ea(n){let t=Math.trunc(n);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const M_=-1;class _t{constructor(t,e,r,s,i,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let c;i instanceof _t?(this.stride=i.stride,this.values=i.values,this.typeIds=i.typeIds,this.nullBitmap=i.nullBitmap,this.valueOffsets=i.valueOffsets):(this.stride=rn(t),i&&((c=i[0])&&(this.valueOffsets=c),(c=i[1])&&(this.values=c),(c=i[2])&&(this.nullBitmap=c),(c=i[3])&&(this.typeIds=c))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:r,nullBitmap:s,typeIds:i}=this;return e&&(t+=e.byteLength),r&&(t+=r.byteLength),s&&(t+=s.byteLength),i&&(t+=i.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=M_&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-Ca(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:c}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:c,_nullCount:0})}const{nullBitmap:r,offset:s}=this,i=s+t>>3,o=(s+t)%8,a=r[i]>>o&1;return e?a===0&&(r[i]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[i]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,r=this.length,s=this._nullCount,i=this,o=this.children){return new _t(t,e,r,s,i,o,this.dictionary)}slice(t,e){const{stride:r,typeId:s,children:i}=this,o=+(this._nullCount===0)-1,a=s===16?r:1,c=this._sliceBuffers(t,e,r,s);return this.clone(this.type,this.offset+t,e,o,c,i.length===0||this.valueOffsets?i:this._sliceChildren(i,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===y.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:r}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);s[e>>3]=(1<<e-(e&-8))-1,r>0&&s.set(kc(this.offset,e,this.nullBitmap),0);const i=this.buffers;return i[nn.VALIDITY]=s,this.clone(this.type,0,t,r+(t-e),i)}_sliceBuffers(t,e,r,s){let i;const{buffers:o}=this;return(i=o[nn.TYPE])&&(o[nn.TYPE]=i.subarray(t,t+e)),(i=o[nn.OFFSET])&&(o[nn.OFFSET]=i.subarray(t,t+e+1))||(i=o[nn.DATA])&&(o[nn.DATA]=s===6?i:i.subarray(r*t,r*(t+e))),o}_sliceChildren(t,e,r){return t.map(s=>s.slice(e,r))}}_t.prototype.children=Object.freeze([]);class vs extends X{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:r=0,["length"]:s=0}=t;return new _t(e,r,s,0)}visitBool(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitInt(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitFloat(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitUtf8(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.data),i=nt(t.nullBitmap),o=ls(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new _t(e,r,a,c,[o,s,i])}visitBinary(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.data),i=nt(t.nullBitmap),o=ls(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new _t(e,r,a,c,[o,s,i])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitDate(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitTimestamp(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitTime(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitDecimal(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitList(t){const{["type"]:e,["offset"]:r=0,["child"]:s}=t,i=nt(t.nullBitmap),o=ls(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new _t(e,r,a,c,[o,void 0,i],[s])}visitStruct(t){const{["type"]:e,["offset"]:r=0,["children"]:s=[]}=t,i=nt(t.nullBitmap),{length:o=s.reduce((c,{length:l})=>Math.max(c,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,void 0,i],s)}visitUnion(t){const{["type"]:e,["offset"]:r=0,["children"]:s=[]}=t,i=nt(t.nullBitmap),o=ft(e.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;if(P.isSparseUnion(e))return new _t(e,r,a,c,[void 0,void 0,i,o],s);const l=ls(t.valueOffsets);return new _t(e,r,a,c,[l,void 0,i,o],s)}visitDictionary(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.indices.ArrayType,t.data),{["dictionary"]:o=new at([new vs().visit({type:e.dictionary})])}=t,{["length"]:a=i.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new _t(e,r,a,c,[void 0,i,s],[],o)}visitInterval(t){const{["type"]:e,["offset"]:r=0}=t,s=nt(t.nullBitmap),i=ft(e.ArrayType,t.data),{["length"]:o=i.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,i,s])}visitFixedSizeList(t){const{["type"]:e,["offset"]:r=0,["child"]:s=new vs().visit({type:e.valueType})}=t,i=nt(t.nullBitmap),{["length"]:o=s.length/rn(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new _t(e,r,o,a,[void 0,void 0,i],[s])}visitMap(t){const{["type"]:e,["offset"]:r=0,["child"]:s=new vs().visit({type:e.childType})}=t,i=nt(t.nullBitmap),o=ls(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new _t(e,r,a,c,[o,void 0,i],[s])}}function Z(n){return new vs().visit(n)}class ru{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Xd(n){return n.reduce((t,e)=>t+e.nullCount,0)}function tf(n){return n.reduce((t,e,r)=>(t[r+1]=t[r]+e.length,t),new Uint32Array(n.length+1))}function ef(n,t,e,r){const s=[];for(let i=-1,o=n.length;++i<o;){const a=n[i],c=t[i],{length:l}=a;if(c>=r)break;if(e>=c+l)continue;if(c>=e&&c+l<=r){s.push(a);continue}const u=Math.max(0,e-c),h=Math.min(r-c,l);s.push(a.slice(u,h-u))}return s.length===0&&s.push(n[0].slice(0,0)),s}function Lc(n,t,e,r){let s=0,i=0,o=t.length-1;do{if(s>=o-1)return e<t[o]?r(n,s,e-t[s]):null;i=s+Math.trunc((o-s)*.5),e<t[i]?o=i:s=i}while(s<o)}function Mc(n,t){return n.getValid(t)}function Pr(n){function t(e,r,s){return n(e[r],s)}return function(e){const r=this.data;return Lc(r,this._offsets,e,t)}}function nf(n){let t;function e(r,s,i){return n(r[s],i,t)}return function(r,s){const i=this.data;t=s;const o=Lc(i,this._offsets,r,e);return t=void 0,o}}function rf(n){let t;function e(r,s,i){let o=i,a=0,c=0;for(let l=s-1,u=r.length;++l<u;){const h=r[l];if(~(a=n(h,t,o)))return c+a;o=0,c+=h.length}return-1}return function(r,s){t=r;const i=this.data,o=typeof s!="number"?e(i,0,0):Lc(i,this._offsets,s,e);return t=void 0,o}}class M extends X{}function N_(n,t){return t===null&&n.length>0?0:-1}function j_(n,t){const{nullBitmap:e}=n;if(!e||n.nullCount<=0)return-1;let r=0;for(const s of new Pc(e,n.offset+(t||0),n.length,e,Zd)){if(!s)return r;++r}return-1}function J(n,t,e){if(t===void 0)return-1;if(t===null)return j_(n,e);const r=te.getVisitFn(n),s=ts(t);for(let i=(e||0)-1,o=n.length;++i<o;)if(s(r(n,i)))return i;return-1}function sf(n,t,e){const r=te.getVisitFn(n),s=ts(t);for(let i=(e||0)-1,o=n.length;++i<o;)if(s(r(n,i)))return i;return-1}M.prototype.visitNull=N_;M.prototype.visitBool=J;M.prototype.visitInt=J;M.prototype.visitInt8=J;M.prototype.visitInt16=J;M.prototype.visitInt32=J;M.prototype.visitInt64=J;M.prototype.visitUint8=J;M.prototype.visitUint16=J;M.prototype.visitUint32=J;M.prototype.visitUint64=J;M.prototype.visitFloat=J;M.prototype.visitFloat16=J;M.prototype.visitFloat32=J;M.prototype.visitFloat64=J;M.prototype.visitUtf8=J;M.prototype.visitBinary=J;M.prototype.visitFixedSizeBinary=J;M.prototype.visitDate=J;M.prototype.visitDateDay=J;M.prototype.visitDateMillisecond=J;M.prototype.visitTimestamp=J;M.prototype.visitTimestampSecond=J;M.prototype.visitTimestampMillisecond=J;M.prototype.visitTimestampMicrosecond=J;M.prototype.visitTimestampNanosecond=J;M.prototype.visitTime=J;M.prototype.visitTimeSecond=J;M.prototype.visitTimeMillisecond=J;M.prototype.visitTimeMicrosecond=J;M.prototype.visitTimeNanosecond=J;M.prototype.visitDecimal=J;M.prototype.visitList=J;M.prototype.visitStruct=J;M.prototype.visitUnion=J;M.prototype.visitDenseUnion=sf;M.prototype.visitSparseUnion=sf;M.prototype.visitDictionary=J;M.prototype.visitInterval=J;M.prototype.visitIntervalDayTime=J;M.prototype.visitIntervalYearMonth=J;M.prototype.visitFixedSizeList=J;M.prototype.visitMap=J;const zi=new M;class N extends X{}function V(n){const{type:t}=n;if(n.nullCount===0&&n.stride===1&&(t.typeId===y.Timestamp||t instanceof kn&&t.bitWidth!==64||t instanceof ks&&t.bitWidth!==64||t instanceof Rs&&t.precision!==Gt.HALF))return new ru(n.data.length,r=>{const s=n.data[r];return s.values.subarray(0,s.length)[Symbol.iterator]()});let e=0;return new ru(n.data.length,r=>{const i=n.data[r].length,o=n.slice(e,e+i);return e+=i,new $_(o)})}class $_{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}N.prototype.visitNull=V;N.prototype.visitBool=V;N.prototype.visitInt=V;N.prototype.visitInt8=V;N.prototype.visitInt16=V;N.prototype.visitInt32=V;N.prototype.visitInt64=V;N.prototype.visitUint8=V;N.prototype.visitUint16=V;N.prototype.visitUint32=V;N.prototype.visitUint64=V;N.prototype.visitFloat=V;N.prototype.visitFloat16=V;N.prototype.visitFloat32=V;N.prototype.visitFloat64=V;N.prototype.visitUtf8=V;N.prototype.visitBinary=V;N.prototype.visitFixedSizeBinary=V;N.prototype.visitDate=V;N.prototype.visitDateDay=V;N.prototype.visitDateMillisecond=V;N.prototype.visitTimestamp=V;N.prototype.visitTimestampSecond=V;N.prototype.visitTimestampMillisecond=V;N.prototype.visitTimestampMicrosecond=V;N.prototype.visitTimestampNanosecond=V;N.prototype.visitTime=V;N.prototype.visitTimeSecond=V;N.prototype.visitTimeMillisecond=V;N.prototype.visitTimeMicrosecond=V;N.prototype.visitTimeNanosecond=V;N.prototype.visitDecimal=V;N.prototype.visitList=V;N.prototype.visitStruct=V;N.prototype.visitUnion=V;N.prototype.visitDenseUnion=V;N.prototype.visitSparseUnion=V;N.prototype.visitDictionary=V;N.prototype.visitInterval=V;N.prototype.visitIntervalDayTime=V;N.prototype.visitIntervalYearMonth=V;N.prototype.visitFixedSizeList=V;N.prototype.visitMap=V;const Nc=new N,U_=(n,t)=>n+t;class Nn extends X{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===rt.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((r,s)=>r+Qe.visit(s,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((r,s)=>r+Qe.visit(s,e),0)}visitDictionary(t,e){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[e]))||0)}}const z_=({valueOffsets:n},t)=>8+(n[t+1]-n[t]),V_=({valueOffsets:n},t)=>8+(n[t+1]-n[t]),H_=({valueOffsets:n,stride:t,children:e},r)=>{const s=e[0],{[r*t]:i}=n,{[r*t+1]:o}=n,a=Qe.getVisitFn(s.type),c=s.slice(i,o-i);let l=8;for(let u=-1,h=o-i;++u<h;)l+=a(c,u);return l},W_=({stride:n,children:t},e)=>{const r=t[0],s=r.slice(e*n,n),i=Qe.getVisitFn(r.type);let o=0;for(let a=-1,c=s.length;++a<c;)o+=i(s,a);return o},K_=(n,t)=>n.type.mode===ae.Dense?of(n,t):af(n,t),of=({type:n,children:t,typeIds:e,valueOffsets:r},s)=>{const i=n.typeIdToChildIndex[e[s]];return 8+Qe.visit(t[i],r[s])},af=({children:n},t)=>4+Qe.visitMany(n,n.map(()=>t)).reduce(U_,0);Nn.prototype.visitUtf8=z_;Nn.prototype.visitBinary=V_;Nn.prototype.visitList=H_;Nn.prototype.visitFixedSizeList=W_;Nn.prototype.visitUnion=K_;Nn.prototype.visitDenseUnion=of;Nn.prototype.visitSparseUnion=af;const Qe=new Nn;var cf;const lf={},uf={};class at{constructor(t){var e,r,s;const i=t[0]instanceof at?t.flatMap(a=>a.data):t;if(i.length===0||i.some(a=>!(a instanceof _t)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=i[0])===null||e===void 0?void 0:e.type;switch(i.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:c,indexOf:l,byteLength:u}=lf[o.typeId],h=i[0];this.isValid=f=>Mc(h,f),this.get=f=>a(h,f),this.set=(f,g)=>c(h,f,g),this.indexOf=f=>l(h,f),this.getByteLength=f=>u(h,f),this._offsets=[0,h.length];break}default:Object.setPrototypeOf(this,uf[o.typeId]),this._offsets=tf(i);break}this.data=i,this.type=o,this.stride=rn(o),this.numChildren=(s=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&s!==void 0?s:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Xd(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${y[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Nc.visit(this)}concat(...t){return new at(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new at(Qd(this,t,e,({data:r,_offsets:s},i,o)=>ef(r,s,i,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:r,stride:s,ArrayType:i}=this;switch(t.typeId){case y.Int:case y.Float:case y.Decimal:case y.Time:case y.Timestamp:switch(e.length){case 0:return new i;case 1:return e[0].values.subarray(0,r*s);default:return e.reduce((o,{values:a,length:c})=>(o.array.set(a.subarray(0,c*s),o.offset),o.offset+=c*s,o),{array:new i(r*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new at(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return P.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(P.isDictionary(this.type)){const t=new Vi(this.data[0].dictionary),e=this.data.map(r=>{const s=r.clone();return s.dictionary=t,s});return new at(e)}return new Vi(this)}unmemoize(){if(P.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(r=>{const s=r.clone();return s.dictionary=t,s});return new at(e)}return this}}cf=Symbol.toStringTag;at[cf]=(n=>{n.type=P.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;const t=Object.keys(y).map(e=>y[e]).filter(e=>typeof e=="number"&&e!==y.NONE);for(const e of t){const r=te.getVisitFnByTypeId(e),s=_e.getVisitFnByTypeId(e),i=zi.getVisitFnByTypeId(e),o=Qe.getVisitFnByTypeId(e);lf[e]={get:r,set:s,indexOf:i,byteLength:o},uf[e]=Object.create(n,{isValid:{value:Pr(Mc)},get:{value:Pr(te.getVisitFnByTypeId(e))},set:{value:nf(_e.getVisitFnByTypeId(e))},indexOf:{value:rf(zi.getVisitFnByTypeId(e))},getByteLength:{value:Pr(Qe.getVisitFnByTypeId(e))}})}return"Vector"})(at.prototype);class Vi extends at{constructor(t){super(t.data);const e=this.get,r=this.set,s=this.slice,i=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=i[o];if(a!==void 0)return a;const c=e.call(this,o);return i[o]=c,c}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),i[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Vi(s.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new at(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Ra{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,r,s){return t.prep(8,24),t.writeInt64(s),t.pad(4),t.writeInt32(r),t.writeInt64(e),t.offset()}}const na=2,Ue=4,on=4,pt=4,Sn=new Int32Array(2),su=new Float32Array(Sn.buffer),iu=new Float64Array(Sn.buffer),oi=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let ln=class ka{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?ka.ZERO:new ka(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};ln.ZERO=new ln(0,0);var Pa;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(Pa||(Pa={}));let Ur=class hf{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new hf(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new ln(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new ln(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Sn[0]=this.readInt32(t),su[0]}readFloat64(t){return Sn[oi?0:1]=this.readInt32(t),Sn[oi?1:0]=this.readInt32(t+4),iu[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){su[0]=e,this.writeInt32(t,Sn[0])}writeFloat64(t,e){iu[0]=e,this.writeInt32(t,Sn[oi?0:1]),this.writeInt32(t+4,Sn[oi?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ue+on)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<on;e++)t+=String.fromCharCode(this.readInt8(this.position_+Ue+e));return t}__offset(t,e){const r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const r=this.readInt32(t);let s="",i=0;if(t+=Ue,e===Pa.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;i<r;){let o;const a=this.readUint8(t+i++);if(a<192)o=a;else{const c=this.readUint8(t+i++);if(a<224)o=(a&31)<<6|c&63;else{const l=this.readUint8(t+i++);if(a<240)o=(a&15)<<12|(c&63)<<6|l&63;else{const u=this.readUint8(t+i++);o=(a&7)<<18|(c&63)<<12|(l&63)<<6|u&63}}}o<65536?s+=String.fromCharCode(o):(o-=65536,s+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return s}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ue}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=on)throw new Error("FlatBuffers: file identifier must be length "+on);for(let e=0;e<on;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+Ue+e))return!1;return!0}createLong(t,e){return ln.create(t,e)}createScalarList(t,e){const r=[];for(let s=0;s<e;++s)t(s)!==null&&r.push(t(s));return r}createObjList(t,e){const r=[];for(let s=0;s<e;++s){const i=t(s);i!==null&&r.push(i.unpack())}return r}},df=class ff{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let e;t?e=t:e=1024,this.bb=Ur.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<r+t+e;){const s=this.bb.capacity();this.bb=ff.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(r)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,r){(this.force_defaults||e!=r)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,r){(this.force_defaults||e!=r)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,r){(this.force_defaults||e!=r)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,r){(this.force_defaults||!e.equals(r))&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,r){(this.force_defaults||e!=r)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,r){e!=r&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=e<<1,s=Ur.allocate(r);return s.setPosition(r-e),s.bytes().set(t.bytes(),r-e),s}addOffset(t){this.prep(Ue,0),this.writeInt32(this.offset()-t+Ue)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const r=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const s=2;this.addInt16(t-this.object_start);const i=(r+s)*na;this.addInt16(i);let o=0;const a=this.space;t:for(e=0;e<this.vtables.length;e++){const c=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(c)){for(let l=na;l<i;l+=na)if(this.bb.readInt16(a+l)!=this.bb.readInt16(c+l))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,r){const s=r?pt:0;if(e){const i=e;if(this.prep(this.minalign,Ue+on+s),i.length!=on)throw new Error("FlatBuffers: file identifier must be length "+on);for(let o=on-1;o>=0;o--)this.writeInt8(i.charCodeAt(o))}this.prep(this.minalign,Ue+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const r=this.bb.capacity()-t,s=r-this.bb.readInt32(r);if(!(this.bb.readInt16(s+e)!=0))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,r){this.notNested(),this.vector_num_elems=e,this.prep(Ue,t*e),this.prep(r,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let r=0;for(;r<t.length;){let s;const i=t.charCodeAt(r++);if(i<55296||i>=56320)s=i;else{const o=t.charCodeAt(r++);s=(i<<10)+o+-56613888}s<128?e.push(s):(s<2048?e.push(s>>6&31|192):(s<65536?e.push(s>>12&15|224):e.push(s>>18&7|240,s>>12&63|128),e.push(s>>6&63|128)),e.push(s&63|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let r=0,s=this.space,i=this.bb.bytes();r<e.length;r++)i[s++]=e[r];return this.endVector()}createLong(t,e){return ln.create(t,e)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let r=0;r<t.length;++r){const s=t[r];if(s!==null)e.push(this.createObjectOffset(s));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Bt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Bt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+pt),(e||new Bt).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,r){return Bt.startKeyValue(t),Bt.addKey(t,e),Bt.addValue(t,r),Bt.endKeyValue(t)}}var zr;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(zr||(zr={}));var Vr;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(Vr||(Vr={}));var Hi;(function(n){n[n.DenseArray=0]="DenseArray"})(Hi||(Hi={}));class ie{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+pt),(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,r){return ie.startInt(t),ie.addBitWidth(t,e),ie.addIsSigned(t,r),ie.endInt(t)}}class an{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new an).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+pt),(e||new an).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new ie).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Hi.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Hi.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Zn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Zn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+pt),(e||new Zn).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Zn.startBinary(t),Zn.endBinary(t)}}class Xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Xn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+pt),(e||new Xn).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Xn.startBool(t),Xn.endBool(t)}}var Wi;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(Wi||(Wi={}));let mi=class Sr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Sr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+pt),(e||new Sr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wi.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Wi.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Sr.startDate(t),Sr.addUnit(t,e),Sr.endDate(t)}};class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+pt),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,r,s){return Kt.startDecimal(t),Kt.addPrecision(t,e),Kt.addScale(t,r),Kt.addBitWidth(t,s),Kt.endDecimal(t)}}var Hr;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(Hr||(Hr={}));class ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new ze).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+pt),(e||new ze).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return ze.startFixedSizeBinary(t),ze.addByteWidth(t,e),ze.endFixedSizeBinary(t)}}class Ve{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Ve).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+pt),(e||new Ve).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Ve.startFixedSizeList(t),Ve.addListSize(t,e),Ve.endFixedSizeList(t)}}var Ki;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(Ki||(Ki={}));class He{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new He).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+pt),(e||new He).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ki.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,Ki.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return He.startFloatingPoint(t),He.addPrecision(t,e),He.endFloatingPoint(t)}}var qi;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(qi||(qi={}));class We{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new We).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+pt),(e||new We).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qi.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,qi.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return We.startInterval(t),We.addUnit(t,e),We.endInterval(t)}}class tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+pt),(e||new tr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return tr.startList(t),tr.endList(t)}}let _i=class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+pt),(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Ir.startMap(t),Ir.addKeysSorted(t,e),Ir.endMap(t)}};class er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+pt),(e||new er).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return er.startNull(t),er.endNull(t)}}class nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+pt),(e||new nr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return nr.startStruct_(t),nr.endStruct_(t)}}class pe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new pe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+pt),(e||new pe).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Hr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,r){return pe.startTime(t),pe.addUnit(t,e),pe.addBitWidth(t,r),pe.endTime(t)}}class ye{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+pt),(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Hr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,r){return ye.startTimestamp(t),ye.addUnit(t,e),ye.addTimezone(t,r),ye.endTimestamp(t)}}var Ji;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(Ji||(Ji={}));class qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+pt),(e||new qt).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ji.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,Ji.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,r){return qt.startUnion(t),qt.addMode(t,e),qt.addTypeIds(t,r),qt.endUnion(t)}}class rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+pt),(e||new rr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return rr.startUtf8(t),rr.endUtf8(t)}}var wt;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(wt||(wt={}));let he=class bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+pt),(e||new bi).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):wt.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new an).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new bi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new Bt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,wt.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}},Le=class tn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new tn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+pt),(e||new tn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Vr.Little}fields(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new he).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new Bt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Vr.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,r,s,i){return tn.startSchema(t),tn.addEndianness(t,e),tn.addFields(t,r),tn.addCustomMetadata(t,s),tn.addFeatures(t,i),tn.endSchema(t)}};class se{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new se).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+pt),(e||new se).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):zr.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Le).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new Ra).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new Ra).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new Bt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,zr.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class ct{constructor(t=[],e,r){this.fields=t||[],this.metadata=e||new Map,r||(r=La(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),r=this.fields.filter(s=>e.has(s.name));return new ct(r,this.metadata)}selectAt(t){const e=t.map(r=>this.fields[r]).filter(Boolean);return new ct(e,this.metadata)}assign(...t){const e=t[0]instanceof ct?t[0]:Array.isArray(t[0])?new ct(t[0]):new ct(t),r=[...this.fields],s=ai(ai(new Map,this.metadata),e.metadata),i=e.fields.filter(a=>{const c=r.findIndex(l=>l.name===a.name);return~c?(r[c]=a.clone({metadata:ai(ai(new Map,r[c].metadata),a.metadata)}))&&!1:!0}),o=La(i,new Map);return new ct([...r,...i],s,new Map([...this.dictionaries,...o]))}}ct.prototype.fields=null;ct.prototype.metadata=null;ct.prototype.dictionaries=null;class vt{constructor(t,e,r=!1,s){this.name=t,this.type=e,this.nullable=r,this.metadata=s||new Map}static new(...t){let[e,r,s,i]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],r===void 0&&(r=t[0].type),s===void 0&&(s=t[0].nullable),i===void 0&&(i=t[0].metadata)),new vt(`${e}`,r,s,i)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,r,s,i]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,r=this.type,s=this.nullable,i=this.metadata]=t:{name:e=this.name,type:r=this.type,nullable:s=this.nullable,metadata:i=this.metadata}=t[0],vt.new(e,r,s,i)}}vt.prototype.type=null;vt.prototype.name=null;vt.prototype.nullable=null;vt.prototype.metadata=null;function ai(n,t){return new Map([...n||new Map,...t||new Map])}function La(n,t=new Map){for(let e=-1,r=n.length;++e<r;){const i=n[e].type;if(P.isDictionary(i)){if(!t.has(i.id))t.set(i.id,i.dictionary);else if(t.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}i.children&&i.children.length>0&&La(i.children,t)}return t}var ou=ln,q_=df,J_=Ur;class Ps{constructor(t,e=oe.V4,r,s){this.schema=t,this.version=e,r&&(this._recordBatches=r),s&&(this._dictionaryBatches=s)}static decode(t){t=new J_(nt(t));const e=se.getRootAsFooter(t),r=ct.decode(e.schema());return new Y_(r,e)}static encode(t){const e=new q_,r=ct.encode(e,t.schema);se.startRecordBatchesVector(e,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Pn.encode(e,o);const s=e.endVector();se.startDictionariesVector(e,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Pn.encode(e,o);const i=e.endVector();return se.startFooter(e),se.addSchema(e,r),se.addVersion(e,oe.V4),se.addRecordBatches(e,s),se.addDictionaries(e,i),se.finishFooterBuffer(e,se.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,r=this.numRecordBatches;++e<r;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,r=this.numDictionaries;++e<r;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Y_ extends Ps{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Pn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Pn.decode(e)}return null}}class Pn{constructor(t,e,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new Pn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:r}=e,s=new ou(e.offset,0),i=new ou(e.bodyLength,0);return Ra.createBlock(t,s,r,i)}}const St=Object.freeze({done:!0,value:void 0});class au{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class jc{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class G_ extends jc{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return R(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(St);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return de.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return de.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return R(this,void 0,void 0,function*(){return yield this.abort(t),St})}return(t){return R(this,void 0,void 0,function*(){return yield this.close(),St})}read(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,r)=>{this.resolvers.push({resolve:e,reject:r})}):Promise.resolve(St)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class vi extends G_{write(t){if((t=nt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Ba(this.toUint8Array(!0)):this.toUint8Array(!1).then(Ba)}toUint8Array(t=!1){return t?Ge(this._values)[0]:R(this,void 0,void 0,function*(){var e,r;const s=[];let i=0;try{for(var o=or(this),a;a=yield o.next(),!a.done;){const c=a.value;s.push(c),i+=c.byteLength}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(e)throw e.error}}return Ge(s,i)[0]})}}class Yi{constructor(t){t&&(this.source=new Q_(de.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Wr{constructor(t){t instanceof Wr?this.source=t.source:t instanceof vi?this.source=new Wn(de.fromAsyncIterable(t)):Jh(t)?this.source=new Wn(de.fromNodeStream(t)):Ac(t)?this.source=new Wn(de.fromDOMStream(t)):qh(t)?this.source=new Wn(de.fromDOMStream(t.body)):zs(t)?this.source=new Wn(de.fromIterable(t)):Fn(t)?this.source=new Wn(de.fromAsyncIterable(t)):Xr(t)&&(this.source=new Wn(de.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Q_{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||St)}return(t){return Object.create(this.source.return&&this.source.return(t)||St)}}class Wn{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return R(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return R(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return R(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||St;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return R(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||St;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class cu extends Yi{constructor(t,e){super(),this.position=0,this.buffer=nt(t),this.size=typeof e>"u"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:r}=this.readAt(t,4);return new DataView(e,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:r,position:s}=this;return e&&s<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,s+Math.min(r-s,t)),e.subarray(s,this.position)):null}readAt(t,e){const r=this.buffer,s=Math.min(this.size,t+e);return r?r.subarray(t,s):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Gi extends Wr{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=R(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return R(this,void 0,void 0,function*(){const{buffer:e,byteOffset:r}=yield this.readAt(t,4);return new DataView(e,r).getInt32(0,!0)})}seek(t){return R(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return R(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:r,position:s}=this;if(e&&s<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let i=s,o=0,a=0;const c=Math.min(r,i+Math.min(r-i,t)),l=new Uint8Array(Math.max(0,(this.position=c)-i));for(;(i+=a)<c&&(o+=a)<l.byteLength;)({bytesRead:a}=yield e.read(l,o,l.byteLength-o,i));return l}return null})}readAt(t,e){return R(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:s}=this;if(r&&t+e<s){const i=Math.min(s,t+e),o=new Uint8Array(i-t);return(yield r.read(o,0,e,t)).buffer}return new Uint8Array(e)})}close(){return R(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return R(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return R(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const Z_=65536;function Ar(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}const Kr=8,$c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class pf{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let s=e[3]*r[3];this.buffer[0]=s&65535;let i=s>>>16;return s=e[2]*r[3],i+=s,s=e[3]*r[2]>>>0,i+=s,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<s?Z_:0,this.buffer[1]+=i>>>16,this.buffer[1]+=e[1]*r[3]+e[2]*r[2]+e[3]*r[1],this.buffer[1]+=e[0]*r[3]+e[1]*r[2]+e[2]*r[1]+e[3]*r[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Ar(this.buffer[1])} ${Ar(this.buffer[0])}`}}class lt extends pf{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return lt.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return lt.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const r=t.length,s=new lt(e);for(let i=0;i<r;){const o=Kr<r-i?Kr:r-i,a=new lt(new Uint32Array([Number.parseInt(t.slice(i,i+o),10),0])),c=new lt(new Uint32Array([$c[o],0]));s.times(c),s.plus(a),i+=o}return s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let r=-1,s=t.length;++r<s;)lt.from(t[r],new Uint32Array(e.buffer,e.byteOffset+2*r*4,2));return e}static multiply(t,e){return new lt(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new lt(new Uint32Array(t.buffer)).plus(e)}}class Wt extends pf{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,r=t.buffer[1]<<0;return e<r||e===r&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return Wt.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Wt.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const r=t.startsWith("-"),s=t.length,i=new Wt(e);for(let o=r?1:0;o<s;){const a=Kr<s-o?Kr:s-o,c=new Wt(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),l=new Wt(new Uint32Array([$c[a],0]));i.times(l),i.plus(c),o+=a}return r?i.negate():i}static convertArray(t){const e=new Uint32Array(t.length*2);for(let r=-1,s=t.length;++r<s;)Wt.from(t[r],new Uint32Array(e.buffer,e.byteOffset+2*r*4,2));return e}static multiply(t,e){return new Wt(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Wt(new Uint32Array(t.buffer)).plus(e)}}class Me{constructor(t){this.buffer=t}high(){return new Wt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Wt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new lt(new Uint32Array([this.buffer[3],0])),r=new lt(new Uint32Array([this.buffer[2],0])),s=new lt(new Uint32Array([this.buffer[1],0])),i=new lt(new Uint32Array([this.buffer[0],0])),o=new lt(new Uint32Array([t.buffer[3],0])),a=new lt(new Uint32Array([t.buffer[2],0])),c=new lt(new Uint32Array([t.buffer[1],0])),l=new lt(new Uint32Array([t.buffer[0],0]));let u=lt.multiply(i,l);this.buffer[0]=u.low();const h=new lt(new Uint32Array([u.high(),0]));return u=lt.multiply(s,l),h.plus(u),u=lt.multiply(i,c),h.plus(u),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(u)?1:0,this.buffer[2]=h.high(),new lt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(lt.multiply(r,l)).plus(lt.multiply(s,c)).plus(lt.multiply(i,a)),this.buffer[3]+=lt.multiply(e,l).plus(lt.multiply(r,c)).plus(lt.multiply(s,a)).plus(lt.multiply(i,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${Ar(this.buffer[3])} ${Ar(this.buffer[2])} ${Ar(this.buffer[1])} ${Ar(this.buffer[0])}`}static multiply(t,e){return new Me(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Me(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return Me.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return Me.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const r=t.startsWith("-"),s=t.length,i=new Me(e);for(let o=r?1:0;o<s;){const a=Kr<s-o?Kr:s-o,c=new Me(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),l=new Me(new Uint32Array([$c[a],0,0,0]));i.times(l),i.plus(c),o+=a}return r?i.negate():i}static convertArray(t){const e=new Uint32Array(t.length*4);for(let r=-1,s=t.length;++r<s;)Me.from(t[r],new Uint32Array(e.buffer,e.byteOffset+4*4*r,4));return e}}class yf extends X{constructor(t,e,r,s){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=r,this.dictionaries=s}visit(t){return super.visit(t instanceof vt?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return Z({type:t,length:e})}visitBool(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===ae.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:r}=this.nextFieldNode()){return Z({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,r=this.nextBufferRange()){return e>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class X_ extends yf{constructor(t,e,r,s){super(new Uint8Array(0),e,r,s),this.sources=t}readNullBitmap(t,e,{offset:r}=this.nextBufferRange()){return e<=0?new Uint8Array(0):Ui(this.sources[r])}readOffsets(t,{offset:e}=this.nextBufferRange()){return ft(Uint8Array,ft(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return ft(Uint8Array,ft(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:r}=this;return P.isTimestamp(t)||(P.isInt(t)||P.isTime(t))&&t.bitWidth===64||P.isDate(t)&&t.unit===hn.MILLISECOND?ft(Uint8Array,Wt.convertArray(r[e])):P.isDecimal(t)?ft(Uint8Array,Me.convertArray(r[e])):P.isBinary(t)||P.isFixedSizeBinary(t)?tb(r[e]):P.isBool(t)?Ui(r[e]):P.isUtf8(t)?Oc(r[e].join("")):ft(Uint8Array,ft(t.ArrayType,r[e].map(s=>+s)))}}function tb(n){const t=n.join(""),e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r>>1]=Number.parseInt(t.slice(r,r+2),16);return e}class j extends X{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((r,s)=>this.compareFields(r,e[s]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ee(n,t){return t instanceof n.constructor}function Vs(n,t){return n===t||ee(n,t)}function yn(n,t){return n===t||ee(n,t)&&n.bitWidth===t.bitWidth&&n.isSigned===t.isSigned}function Co(n,t){return n===t||ee(n,t)&&n.precision===t.precision}function eb(n,t){return n===t||ee(n,t)&&n.byteWidth===t.byteWidth}function Uc(n,t){return n===t||ee(n,t)&&n.unit===t.unit}function Hs(n,t){return n===t||ee(n,t)&&n.unit===t.unit&&n.timezone===t.timezone}function Ws(n,t){return n===t||ee(n,t)&&n.unit===t.unit&&n.bitWidth===t.bitWidth}function nb(n,t){return n===t||ee(n,t)&&n.children.length===t.children.length&&Ln.compareManyFields(n.children,t.children)}function rb(n,t){return n===t||ee(n,t)&&n.children.length===t.children.length&&Ln.compareManyFields(n.children,t.children)}function zc(n,t){return n===t||ee(n,t)&&n.mode===t.mode&&n.typeIds.every((e,r)=>e===t.typeIds[r])&&Ln.compareManyFields(n.children,t.children)}function sb(n,t){return n===t||ee(n,t)&&n.id===t.id&&n.isOrdered===t.isOrdered&&Ln.visit(n.indices,t.indices)&&Ln.visit(n.dictionary,t.dictionary)}function Vc(n,t){return n===t||ee(n,t)&&n.unit===t.unit}function ib(n,t){return n===t||ee(n,t)&&n.listSize===t.listSize&&n.children.length===t.children.length&&Ln.compareManyFields(n.children,t.children)}function ob(n,t){return n===t||ee(n,t)&&n.keysSorted===t.keysSorted&&n.children.length===t.children.length&&Ln.compareManyFields(n.children,t.children)}j.prototype.visitNull=Vs;j.prototype.visitBool=Vs;j.prototype.visitInt=yn;j.prototype.visitInt8=yn;j.prototype.visitInt16=yn;j.prototype.visitInt32=yn;j.prototype.visitInt64=yn;j.prototype.visitUint8=yn;j.prototype.visitUint16=yn;j.prototype.visitUint32=yn;j.prototype.visitUint64=yn;j.prototype.visitFloat=Co;j.prototype.visitFloat16=Co;j.prototype.visitFloat32=Co;j.prototype.visitFloat64=Co;j.prototype.visitUtf8=Vs;j.prototype.visitBinary=Vs;j.prototype.visitFixedSizeBinary=eb;j.prototype.visitDate=Uc;j.prototype.visitDateDay=Uc;j.prototype.visitDateMillisecond=Uc;j.prototype.visitTimestamp=Hs;j.prototype.visitTimestampSecond=Hs;j.prototype.visitTimestampMillisecond=Hs;j.prototype.visitTimestampMicrosecond=Hs;j.prototype.visitTimestampNanosecond=Hs;j.prototype.visitTime=Ws;j.prototype.visitTimeSecond=Ws;j.prototype.visitTimeMillisecond=Ws;j.prototype.visitTimeMicrosecond=Ws;j.prototype.visitTimeNanosecond=Ws;j.prototype.visitDecimal=Vs;j.prototype.visitList=nb;j.prototype.visitStruct=rb;j.prototype.visitUnion=zc;j.prototype.visitDenseUnion=zc;j.prototype.visitSparseUnion=zc;j.prototype.visitDictionary=sb;j.prototype.visitInterval=Vc;j.prototype.visitIntervalDayTime=Vc;j.prototype.visitIntervalYearMonth=Vc;j.prototype.visitFixedSizeList=ib;j.prototype.visitMap=ob;const Ln=new j;function Ma(n,t){return Ln.compareSchemas(n,t)}function ra(n,t){return ab(n,t.map(e=>e.data.concat()))}function ab(n,t){const e=[...n.fields],r=[],s={numBatches:t.reduce((h,f)=>Math.max(h,f.length),0)};let i=0,o=0,a=-1;const c=t.length;let l,u=[];for(;s.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)u[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(u=cb(e,o,u,t,s),o>0&&(r[i++]=Z({type:new Ut(e),length:o,nullCount:0,children:u.slice()})))}return[n=n.assign(e),r.map(h=>new Jt(n,h))]}function cb(n,t,e,r,s){var i;const o=(t+63&-64)>>3;for(let a=-1,c=r.length;++a<c;){const l=e[a],u=l==null?void 0:l.length;if(u>=t)u===t?e[a]=l:(e[a]=l.slice(0,t),s.numBatches=Math.max(s.numBatches,r[a].unshift(l.slice(t,u-t))));else{const h=n[a];n[a]=h.clone({nullable:!0}),e[a]=(i=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&i!==void 0?i:Z({type:h.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var gf;class $t{constructor(...t){var e,r;if(t.length===0)return this.batches=[],this.schema=new ct([]),this._offsets=[0],this;let s,i;t[0]instanceof ct&&(s=t.shift()),t[t.length-1]instanceof Uint32Array&&(i=t.pop());const o=c=>{if(c){if(c instanceof Jt)return[c];if(c instanceof $t)return c.batches;if(c instanceof _t){if(c.type instanceof Ut)return[new Jt(new ct(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(l=>o(l));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(l=>o(l));if(typeof c=="object"){const l=Object.keys(c),u=l.map(g=>new at([c[g]])),h=new ct(l.map((g,I)=>new vt(String(g),u[I].type))),[,f]=ra(h,u);return f.length===0?[new Jt(c)]:f}}}return[]},a=t.flatMap(c=>o(c));if(s=(r=s??((e=a[0])===null||e===void 0?void 0:e.schema))!==null&&r!==void 0?r:new ct([]),!(s instanceof ct))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const c of a){if(!(c instanceof Jt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Ma(s,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=a,this._offsets=i??tf(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Xd(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Nc.visit(new at(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,r=this.data.concat(t.flatMap(({data:s})=>s));return new $t(e,r.map(s=>new Jt(e,s)))}slice(t,e){const r=this.schema;[t,e]=Qd({length:this.numRows},t,e);const s=ef(this.data,this._offsets,t,e);return new $t(r,s.map(i=>new Jt(r,i)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(r=>r.children[t]);if(e.length===0){const{type:r}=this.schema.fields[t],s=Z({type:r,length:0,nullCount:0});e.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new at(e)}return null}setChild(t,e){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(s=>s.name===t),e)}setChildAt(t,e){let r=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new at([Z({type:new Rn,length:this.numRows})]));const i=r.fields.slice(),o=i[t].clone({type:e.type}),a=this.schema.fields.map((c,l)=>this.getChildAt(l));[i[t],a[t]]=[o,e],[r,s]=ra(r,a)}return new $t(r,s)}select(t){const e=this.schema.fields.reduce((r,s,i)=>r.set(s.name,i),new Map);return this.selectAt(t.map(r=>e.get(r)).filter(r=>r>-1))}selectAt(t){const e=this.schema.selectAt(t),r=this.batches.map(s=>s.selectAt(t));return new $t(e,r)}assign(t){const e=this.schema.fields,[r,s]=t.schema.fields.reduce((a,c,l)=>{const[u,h]=a,f=e.findIndex(g=>g.name===c.name);return~f?h[f]=l:u.push(l),a},[[],[]]),i=this.schema.assign(t.schema),o=[...e.map((a,c)=>[c,s[c]]).map(([a,c])=>c===void 0?this.getChildAt(a):t.getChildAt(c)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new $t(...ra(i,o))}}gf=Symbol.toStringTag;$t[gf]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=Pr(Mc),n.get=Pr(te.getVisitFn(y.Struct)),n.set=nf(_e.getVisitFn(y.Struct)),n.indexOf=rf(zi.getVisitFn(y.Struct)),n.getByteLength=Pr(Qe.getVisitFn(y.Struct)),"Table"))($t.prototype);var mf;let Jt=class ps{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof ct))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Z({nullCount:0,type:new Ut(this.schema.fields),children:this.schema.fields.map(e=>Z({type:e.type,nullCount:0}))})]=t,!(this.data instanceof _t))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=lu(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:r,children:s,length:i}=Object.keys(e).reduce((c,l,u)=>(c.children[u]=e[l],c.length=Math.max(c.length,e[l].length),c.fields[u]=vt.new({name:l,type:e[l].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),o=new ct(r),a=Z({type:new Ut(r),length:i,children:s,nullCount:0});[this.schema,this.data]=lu(o,a.children,i);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=_f(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return te.visit(this.data,t)}set(t,e){return _e.visit(this.data,t,e)}indexOf(t,e){return zi.visit(this.data,t,e)}getByteLength(t){return Qe.visit(this.data,t)}[Symbol.iterator](){return Nc.visit(new at([this.data]))}toArray(){return[...this]}concat(...t){return new $t(this.schema,[this,...t])}slice(t,e){const[r]=new at([this.data]).slice(t,e).data;return new ps(this.schema,r)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new at([this.data.children[t]]):null}setChild(t,e){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(s=>s.name===t),e)}setChildAt(t,e){let r=this.schema,s=this.data;if(t>-1&&t<this.numCols){e||(e=new at([Z({type:new Rn,length:this.numRows})]));const i=r.fields.slice(),o=s.children.slice(),a=i[t].clone({type:e.type});[i[t],o[t]]=[a,e.data[0]],r=new ct(i,new Map(this.schema.metadata)),s=Z({type:new Ut(i),children:o})}return new ps(r,s)}select(t){const e=this.schema.select(t),r=new Ut(e.fields),s=[];for(const i of t){const o=this.schema.fields.findIndex(a=>a.name===i);~o&&(s[o]=this.data.children[o])}return new ps(e,Z({type:r,length:this.numRows,children:s}))}selectAt(t){const e=this.schema.selectAt(t),r=t.map(i=>this.data.children[i]).filter(Boolean),s=Z({type:new Ut(e.fields),length:this.numRows,children:r});return new ps(e,s)}};mf=Symbol.toStringTag;Jt[mf]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Jt.prototype);function lu(n,t,e=t.reduce((r,s)=>Math.max(r,s.length),0)){var r;const s=[...n.fields],i=[...t],o=(e+63&-64)>>3;for(const[a,c]of n.fields.entries()){const l=t[a];(!l||l.length!==e)&&(s[a]=c.clone({nullable:!0}),i[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(e))!==null&&r!==void 0?r:Z({type:c.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[n.assign(s),Z({type:new Ut(s),length:e,children:i})]}function _f(n,t,e=new Map){for(let r=-1,s=n.length;++r<s;){const o=n[r].type,a=t[r];if(P.isDictionary(o)){if(!e.has(o.id))a.dictionary&&e.set(o.id,a.dictionary);else if(e.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&_f(o.children,a.children,e)}return e}class Hc extends Jt{constructor(t){const e=t.fields.map(s=>Z({type:s.type})),r=Z({type:new Ut(t.fields),nullCount:0,children:e});super(t,r)}}var Qi;(function(n){n[n.BUFFER=0]="BUFFER"})(Qi||(Qi={}));var Zi;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(Zi||(Zi={}));class In{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new In).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+pt),(e||new In).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Zi.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Qi.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Zi.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,Qi.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,r){return In.startBodyCompression(t),In.addCodec(t,e),In.addMethod(t,r),In.endBodyCompression(t)}}let bf=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}},vf=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}},sn=class Na{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Na).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+pt),(e||new Na).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new vf).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new bf).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new In).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}},Or=class ja{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new ja).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+pt),(e||new ja).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new sn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}};var Xi;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(Xi||(Xi={}));let mn=class Pe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+pt),(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):zr.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Xi.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new Bt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,zr.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Xi.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,r,s,i,o){return Pe.startMessage(t),Pe.addVersion(t,e),Pe.addHeaderType(t,r),Pe.addHeader(t,s),Pe.addBodyLength(t,i),Pe.addCustomMetadata(t,o),Pe.endMessage(t)}};var lb=ln;class ub extends X{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return er.startNull(e),er.endNull(e)}visitInt(t,e){return ie.startInt(e),ie.addBitWidth(e,t.bitWidth),ie.addIsSigned(e,t.isSigned),ie.endInt(e)}visitFloat(t,e){return He.startFloatingPoint(e),He.addPrecision(e,t.precision),He.endFloatingPoint(e)}visitBinary(t,e){return Zn.startBinary(e),Zn.endBinary(e)}visitBool(t,e){return Xn.startBool(e),Xn.endBool(e)}visitUtf8(t,e){return rr.startUtf8(e),rr.endUtf8(e)}visitDecimal(t,e){return Kt.startDecimal(e),Kt.addScale(e,t.scale),Kt.addPrecision(e,t.precision),Kt.addBitWidth(e,t.bitWidth),Kt.endDecimal(e)}visitDate(t,e){return mi.startDate(e),mi.addUnit(e,t.unit),mi.endDate(e)}visitTime(t,e){return pe.startTime(e),pe.addUnit(e,t.unit),pe.addBitWidth(e,t.bitWidth),pe.endTime(e)}visitTimestamp(t,e){const r=t.timezone&&e.createString(t.timezone)||void 0;return ye.startTimestamp(e),ye.addUnit(e,t.unit),r!==void 0&&ye.addTimezone(e,r),ye.endTimestamp(e)}visitInterval(t,e){return We.startInterval(e),We.addUnit(e,t.unit),We.endInterval(e)}visitList(t,e){return tr.startList(e),tr.endList(e)}visitStruct(t,e){return nr.startStruct_(e),nr.endStruct_(e)}visitUnion(t,e){qt.startTypeIdsVector(e,t.typeIds.length);const r=qt.createTypeIdsVector(e,t.typeIds);return qt.startUnion(e),qt.addMode(e,t.mode),qt.addTypeIds(e,r),qt.endUnion(e)}visitDictionary(t,e){const r=this.visit(t.indices,e);return an.startDictionaryEncoding(e),an.addId(e,new lb(t.id,0)),an.addIsOrdered(e,t.isOrdered),r!==void 0&&an.addIndexType(e,r),an.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return ze.startFixedSizeBinary(e),ze.addByteWidth(e,t.byteWidth),ze.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Ve.startFixedSizeList(e),Ve.addListSize(e,t.listSize),Ve.endFixedSizeList(e)}visitMap(t,e){return _i.startMap(e),_i.addKeysSorted(e,t.keysSorted),_i.endMap(e)}}const sa=new ub;function hb(n,t=new Map){return new ct(fb(n,t),wi(n.customMetadata),t)}function wf(n){return new ce(n.count,Sf(n.columns),If(n.columns))}function db(n){return new Ze(wf(n.data),n.id,n.isDelta)}function fb(n,t){return(n.fields||[]).filter(Boolean).map(e=>vt.fromJSON(e,t))}function uu(n,t){return(n.children||[]).filter(Boolean).map(e=>vt.fromJSON(e,t))}function Sf(n){return(n||[]).reduce((t,e)=>[...t,new hr(e.count,pb(e.VALIDITY)),...Sf(e.children)],[])}function If(n,t=[]){for(let e=-1,r=(n||[]).length;++e<r;){const s=n[e];s.VALIDITY&&t.push(new qe(t.length,s.VALIDITY.length)),s.TYPE&&t.push(new qe(t.length,s.TYPE.length)),s.OFFSET&&t.push(new qe(t.length,s.OFFSET.length)),s.DATA&&t.push(new qe(t.length,s.DATA.length)),t=If(s.children,t)}return t}function pb(n){return(n||[]).reduce((t,e)=>t+ +(e===0),0)}function yb(n,t){let e,r,s,i,o,a;return!t||!(i=n.dictionary)?(o=du(n,uu(n,t)),s=new vt(n.name,o,n.nullable,wi(n.customMetadata))):t.has(e=i.id)?(r=(r=i.indexType)?hu(r):new Cs,a=new $r(t.get(e),r,e,i.isOrdered),s=new vt(n.name,a,n.nullable,wi(n.customMetadata))):(r=(r=i.indexType)?hu(r):new Cs,t.set(e,o=du(n,uu(n,t))),a=new $r(o,r,e,i.isOrdered),s=new vt(n.name,a,n.nullable,wi(n.customMetadata))),s||null}function wi(n){return new Map(Object.entries(n||{}))}function hu(n){return new kn(n.isSigned,n.bitWidth)}function du(n,t){const e=n.type.name;switch(e){case"NONE":return new Rn;case"null":return new Rn;case"binary":return new xi;case"utf8":return new Di;case"bool":return new Fi;case"list":return new Li((t||[])[0]);case"struct":return new Ut(t||[]);case"struct_":return new Ut(t||[])}switch(e){case"int":{const r=n.type;return new kn(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=n.type;return new Rs(Gt[r.precision])}case"decimal":{const r=n.type;return new Ci(r.scale,r.precision,r.bitWidth)}case"date":{const r=n.type;return new Ri(hn[r.unit])}case"time":{const r=n.type;return new ks(rt[r.unit],r.bitWidth)}case"timestamp":{const r=n.type;return new ki(rt[r.unit],r.timezone)}case"interval":{const r=n.type;return new Pi(Cn[r.unit])}case"union":{const r=n.type;return new Mi(ae[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=n.type;return new Ni(r.byteWidth)}case"fixedsizelist":{const r=n.type;return new ji(r.listSize,(t||[])[0])}case"map":{const r=n.type;return new $i((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var ur=ln,gb=df,mb=Ur;class zt{constructor(t,e,r,s){this._version=e,this._headerType=r,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const r=new zt(0,oe.V4,e);return r._createHeader=_b(t,e),r}static decode(t){t=new mb(nt(t));const e=mn.getRootAsMessage(t),r=e.bodyLength(),s=e.version(),i=e.headerType(),o=new zt(r,s,i);return o._createHeader=bb(e,i),o}static encode(t){const e=new gb;let r=-1;return t.isSchema()?r=ct.encode(e,t.header()):t.isRecordBatch()?r=ce.encode(e,t.header()):t.isDictionaryBatch()&&(r=Ze.encode(e,t.header())),mn.startMessage(e),mn.addVersion(e,oe.V4),mn.addHeader(e,r),mn.addHeaderType(e,t.headerType),mn.addBodyLength(e,new ur(t.bodyLength,0)),mn.finishMessageBuffer(e,mn.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof ct)return new zt(0,oe.V4,ot.Schema,t);if(t instanceof ce)return new zt(e,oe.V4,ot.RecordBatch,t);if(t instanceof Ze)return new zt(e,oe.V4,ot.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ot.Schema}isRecordBatch(){return this.headerType===ot.RecordBatch}isDictionaryBatch(){return this.headerType===ot.DictionaryBatch}}class ce{constructor(t,e,r){this._nodes=e,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Ze{constructor(t,e,r=!1){this._data=t,this._isDelta=r,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class qe{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class hr{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function _b(n,t){return()=>{switch(t){case ot.Schema:return ct.fromJSON(n);case ot.RecordBatch:return ce.fromJSON(n);case ot.DictionaryBatch:return Ze.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${ot[t]}, type: ${t} }`)}}function bb(n,t){return()=>{switch(t){case ot.Schema:return ct.decode(n.header(new Le));case ot.RecordBatch:return ce.decode(n.header(new sn),n.version());case ot.DictionaryBatch:return Ze.decode(n.header(new Or),n.version())}throw new Error(`Unrecognized Message type: { name: ${ot[t]}, type: ${t} }`)}}vt.encode=Db;vt.decode=Bb;vt.fromJSON=yb;ct.encode=xb;ct.decode=vb;ct.fromJSON=hb;ce.encode=Fb;ce.decode=wb;ce.fromJSON=wf;Ze.encode=Cb;Ze.decode=Sb;Ze.fromJSON=db;hr.encode=Rb;hr.decode=Ob;qe.encode=kb;qe.decode=Ib;function vb(n,t=new Map){const e=Eb(n,t);return new ct(e,Si(n),t)}function wb(n,t=oe.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new ce(n.length(),Ab(n),Tb(n,t))}function Sb(n,t=oe.V4){return new Ze(ce.decode(n.data(),t),n.id(),n.isDelta())}function Ib(n){return new qe(n.offset(),n.length())}function Ob(n){return new hr(n.length(),n.nullCount())}function Ab(n){const t=[];for(let e,r=-1,s=-1,i=n.nodesLength();++r<i;)(e=n.nodes(r))&&(t[++s]=hr.decode(e));return t}function Tb(n,t){const e=[];for(let r,s=-1,i=-1,o=n.buffersLength();++s<o;)(r=n.buffers(s))&&(t<oe.V4&&(r.bb_pos+=8*(s+1)),e[++i]=qe.decode(r));return e}function Eb(n,t){const e=[];for(let r,s=-1,i=-1,o=n.fieldsLength();++s<o;)(r=n.fields(s))&&(e[++i]=vt.decode(r,t));return e}function fu(n,t){const e=[];for(let r,s=-1,i=-1,o=n.childrenLength();++s<o;)(r=n.children(s))&&(e[++i]=vt.decode(r,t));return e}function Bb(n,t){let e,r,s,i,o,a;return!t||!(a=n.dictionary())?(s=yu(n,fu(n,t)),r=new vt(n.name(),s,n.nullable(),Si(n))):t.has(e=a.id().low)?(i=(i=a.indexType())?pu(i):new Cs,o=new $r(t.get(e),i,e,a.isOrdered()),r=new vt(n.name(),o,n.nullable(),Si(n))):(i=(i=a.indexType())?pu(i):new Cs,t.set(e,s=yu(n,fu(n,t))),o=new $r(s,i,e,a.isOrdered()),r=new vt(n.name(),o,n.nullable(),Si(n))),r||null}function Si(n){const t=new Map;if(n)for(let e,r,s=-1,i=Math.trunc(n.customMetadataLength());++s<i;)(e=n.customMetadata(s))&&(r=e.key())!=null&&t.set(r,e.value());return t}function pu(n){return new kn(n.isSigned(),n.bitWidth())}function yu(n,t){const e=n.typeType();switch(e){case wt.NONE:return new Rn;case wt.Null:return new Rn;case wt.Binary:return new xi;case wt.Utf8:return new Di;case wt.Bool:return new Fi;case wt.List:return new Li((t||[])[0]);case wt.Struct_:return new Ut(t||[])}switch(e){case wt.Int:{const r=n.type(new ie);return new kn(r.isSigned(),r.bitWidth())}case wt.FloatingPoint:{const r=n.type(new He);return new Rs(r.precision())}case wt.Decimal:{const r=n.type(new Kt);return new Ci(r.scale(),r.precision(),r.bitWidth())}case wt.Date:{const r=n.type(new mi);return new Ri(r.unit())}case wt.Time:{const r=n.type(new pe);return new ks(r.unit(),r.bitWidth())}case wt.Timestamp:{const r=n.type(new ye);return new ki(r.unit(),r.timezone())}case wt.Interval:{const r=n.type(new We);return new Pi(r.unit())}case wt.Union:{const r=n.type(new qt);return new Mi(r.mode(),r.typeIdsArray()||[],t||[])}case wt.FixedSizeBinary:{const r=n.type(new ze);return new Ni(r.byteWidth())}case wt.FixedSizeList:{const r=n.type(new Ve);return new ji(r.listSize(),(t||[])[0])}case wt.Map:{const r=n.type(new _i);return new $i((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${wt[e]}" (${e})`)}function xb(n,t){const e=t.fields.map(i=>vt.encode(n,i));Le.startFieldsVector(n,e.length);const r=Le.createFieldsVector(n,e),s=t.metadata&&t.metadata.size>0?Le.createCustomMetadataVector(n,[...t.metadata].map(([i,o])=>{const a=n.createString(`${i}`),c=n.createString(`${o}`);return Bt.startKeyValue(n),Bt.addKey(n,a),Bt.addValue(n,c),Bt.endKeyValue(n)})):-1;return Le.startSchema(n),Le.addFields(n,r),Le.addEndianness(n,Pb?Vr.Little:Vr.Big),s!==-1&&Le.addCustomMetadata(n,s),Le.endSchema(n)}function Db(n,t){let e=-1,r=-1,s=-1;const i=t.type;let o=t.typeId;P.isDictionary(i)?(o=i.dictionary.typeId,s=sa.visit(i,n),r=sa.visit(i.dictionary,n)):r=sa.visit(i,n);const a=(i.children||[]).map(u=>vt.encode(n,u)),c=he.createChildrenVector(n,a),l=t.metadata&&t.metadata.size>0?he.createCustomMetadataVector(n,[...t.metadata].map(([u,h])=>{const f=n.createString(`${u}`),g=n.createString(`${h}`);return Bt.startKeyValue(n),Bt.addKey(n,f),Bt.addValue(n,g),Bt.endKeyValue(n)})):-1;return t.name&&(e=n.createString(t.name)),he.startField(n),he.addType(n,r),he.addTypeType(n,o),he.addChildren(n,c),he.addNullable(n,!!t.nullable),e!==-1&&he.addName(n,e),s!==-1&&he.addDictionary(n,s),l!==-1&&he.addCustomMetadata(n,l),he.endField(n)}function Fb(n,t){const e=t.nodes||[],r=t.buffers||[];sn.startNodesVector(n,e.length);for(const o of e.slice().reverse())hr.encode(n,o);const s=n.endVector();sn.startBuffersVector(n,r.length);for(const o of r.slice().reverse())qe.encode(n,o);const i=n.endVector();return sn.startRecordBatch(n),sn.addLength(n,new ur(t.length,0)),sn.addNodes(n,s),sn.addBuffers(n,i),sn.endRecordBatch(n)}function Cb(n,t){const e=ce.encode(n,t.data);return Or.startDictionaryBatch(n),Or.addId(n,new ur(t.id,0)),Or.addIsDelta(n,t.isDelta),Or.addData(n,e),Or.endDictionaryBatch(n)}function Rb(n,t){return vf.createFieldNode(n,new ur(t.length,0),new ur(t.nullCount,0))}function kb(n,t){return bf.createBuffer(n,new ur(t.offset,0),new ur(t.length,0))}const Pb=(()=>{const n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})(),Wc=n=>`Expected ${ot[n]} Message in stream, but was null or length 0.`,Kc=n=>`Header pointer of flatbuffer-encoded ${ot[n]} Message is null or length 0.`,Of=(n,t)=>`Expected to read ${n} metadata bytes, but only read ${t}.`,Af=(n,t)=>`Expected to read ${n} bytes for message body, but only read ${t}.`;class Tf{constructor(t){this.source=t instanceof Yi?t:new Yi(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?St:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Wc(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=nt(this.source.read(t));if(e.byteLength<t)throw new Error(Af(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=ot.Schema,r=this.readMessage(e),s=r==null?void 0:r.header();if(t&&!s)throw new Error(Kc(e));return s}readMetadataLength(){const t=this.source.read(Ro),e=t&&new Ur(t),r=(e==null?void 0:e.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(t){const e=this.source.read(t);if(!e)return St;if(e.byteLength<t)throw new Error(Of(t,e.byteLength));return{done:!1,value:zt.decode(e)}}}class Lb{constructor(t,e){this.source=t instanceof Wr?t:Kh(t)?new Gi(t,e):new Wr(t)}[Symbol.asyncIterator](){return this}next(){return R(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?St:t})}throw(t){return R(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return R(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return R(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Wc(t));return e.value})}readMessageBody(t){return R(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=nt(yield this.source.read(t));if(e.byteLength<t)throw new Error(Af(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return R(this,void 0,void 0,function*(){const e=ot.Schema,r=yield this.readMessage(e),s=r==null?void 0:r.header();if(t&&!s)throw new Error(Kc(e));return s})}readMetadataLength(){return R(this,void 0,void 0,function*(){const t=yield this.source.read(Ro),e=t&&new Ur(t),r=(e==null?void 0:e.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(t){return R(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return St;if(e.byteLength<t)throw new Error(Of(t,e.byteLength));return{done:!1,value:zt.decode(e)}})}}class Mb extends Tf{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof au?t:new au(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:zt.fromJSON(t.schema,ot.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:zt.fromJSON(e,ot.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:zt.fromJSON(e,ot.RecordBatch)}}return this._body=[],St}readMessageBody(t){return e(this._body);function e(r){return(r||[]).reduce((s,i)=>[...s,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...e(i.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Wc(t));return e.value}readSchema(){const t=ot.Schema,e=this.readMessage(t),r=e==null?void 0:e.header();if(!e||!r)throw new Error(Kc(t));return r}}const Ro=4,$a="ARROW1",Ls=new Uint8Array($a.length);for(let n=0;n<$a.length;n+=1)Ls[n]=$a.codePointAt(n);function qc(n,t=0){for(let e=-1,r=Ls.length;++e<r;)if(Ls[e]!==n[t+e])return!1;return!0}const Ks=Ls.length,Ef=Ks+Ro,Nb=Ks*2+Ro;class un extends jc{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return Fn(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return de.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return de.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof un?t:xa(t)?zb(t):Kh(t)?Wb(t):Fn(t)?R(this,void 0,void 0,function*(){return yield un.from(yield t)}):qh(t)||Ac(t)||Jh(t)||Xr(t)?Hb(new Wr(t)):Vb(new Yi(t))}static readAll(t){return t instanceof un?t.isSync()?gu(t):mu(t):xa(t)||ArrayBuffer.isView(t)||zs(t)||Wh(t)?gu(t):mu(t)}}class to extends un{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Ke(this,arguments,function*(){yield K(yield*gi(or(this[Symbol.iterator]())))})}}class eo extends un{constructor(t){super(t),this._impl=t}readAll(){var t,e;return R(this,void 0,void 0,function*(){const r=new Array;try{for(var s=or(this),i;i=yield s.next(),!i.done;){const o=i.value;r.push(o)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Bf extends to{constructor(t){super(t),this._impl=t}}class jb extends eo{constructor(t){super(t),this._impl=t}}class xf{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const r=this._loadVectors(t,e,this.schema.fields),s=Z({type:new Ut(this.schema.fields),length:t.length,children:r});return new Jt(this.schema,s)}_loadDictionaryBatch(t,e){const{id:r,isDelta:s}=t,{dictionaries:i,schema:o}=this,a=i.get(r);if(s||!a){const c=o.dictionaries.get(r),l=this._loadVectors(t.data,e,[c]);return(a&&s?a.concat(new at(l)):new at(l)).memoize()}return a.memoize()}_loadVectors(t,e,r){return new yf(e,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}class no extends xf{constructor(t,e){super(e),this._reader=xa(t)?new Mb(this._handle=t):new Tf(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Ff(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):St}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):St}next(){if(this.closed)return St;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),s=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),s=e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(r,s);this.dictionaries.set(r.id,i)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Hc(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class ro extends xf{constructor(t,e){super(e),this._reader=new Lb(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return R(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return R(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Ff(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return R(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):St})}return(t){return R(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):St})}next(){return R(this,void 0,void 0,function*(){if(this.closed)return St;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),s=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),s=yield e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(r,s);this.dictionaries.set(r.id,i)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Hc(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return R(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Df extends no{constructor(t,e){super(t instanceof cu?t:new cu(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const r=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){const s=this._reader.readMessage(ot.RecordBatch);if(s!=null&&s.isRecordBatch()){const i=s.header(),o=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(i,o)}}return null}_readDictionaryBatch(t){var e;const r=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){const s=this._reader.readMessage(ot.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const i=s.header(),o=this._reader.readMessageBody(s.bodyLength),a=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,a)}}}_readFooter(){const{_handle:t}=this,e=t.size-Ef,r=t.readInt32(e),s=t.readAt(e-r,r);return Ps.decode(s)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}}class $b extends ro{constructor(t,...e){const r=typeof e[0]!="number"?e.shift():void 0,s=e[0]instanceof Map?e.shift():void 0;super(t instanceof Gi?t:new Gi(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return R(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return R(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const r=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){const s=yield this._reader.readMessage(ot.RecordBatch);if(s!=null&&s.isRecordBatch()){const i=s.header(),o=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(i,o)}}return null})}_readDictionaryBatch(t){var e;return R(this,void 0,void 0,function*(){const r=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){const s=yield this._reader.readMessage(ot.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const i=s.header(),o=yield this._reader.readMessageBody(s.bodyLength),a=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,a)}}})}_readFooter(){return R(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Ef,r=yield t.readInt32(e),s=yield t.readAt(e-r,r);return Ps.decode(s)})}_readNextMessageAndValidate(t){return R(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class Ub extends no{constructor(t,e){super(t,e)}_loadVectors(t,e,r){return new X_(e,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}function Ff(n,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:n.autoDestroy}function*gu(n){const t=un.from(n);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function mu(n){return Ke(this,arguments,function*(){const e=yield K(un.from(n));try{if(!(yield K(e.open({autoDestroy:!1}))).closed)do yield yield K(e);while(!(yield K(e.reset().open())).closed)}finally{yield K(e.cancel())}})}function zb(n){return new to(new Ub(n))}function Vb(n){const t=n.peek(Ks+7&-8);return t&&t.byteLength>=4?qc(t)?new Bf(new Df(n.read())):new to(new no(n)):new to(new no(function*(){}()))}function Hb(n){return R(this,void 0,void 0,function*(){const t=yield n.peek(Ks+7&-8);return t&&t.byteLength>=4?qc(t)?new Bf(new Df(yield n.read())):new eo(new ro(n)):new eo(new ro(function(){return Ke(this,arguments,function*(){})}()))})}function Wb(n){return R(this,void 0,void 0,function*(){const{size:t}=yield n.stat(),e=new Gi(n,t);return t>=Nb&&qc(yield e.readAt(0,Ks+7&-8))?new jb(new $b(e)):new eo(new ro(e))})}class Tt extends X{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=s=>s.flatMap(i=>Array.isArray(i)?e(i):i instanceof Jt?i.data.children:i.data),r=new Tt;return r.visitMany(e(t)),r}visit(t){if(t instanceof at)return this.visitMany(t.data),this;const{type:e}=t;if(!P.isDictionary(e)){const{length:r,nullCount:s}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");P.isNull(e)||xe.call(this,s<=0?new Uint8Array(0):kc(t.offset,r,t.nullBitmap)),this.nodes.push(new hr(r,s))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function xe(n){const t=n.byteLength+7&-8;return this.buffers.push(n),this.bufferRegions.push(new qe(this._byteLength,t)),this._byteLength+=t,this}function Kb(n){const{type:t,length:e,typeIds:r,valueOffsets:s}=n;if(xe.call(this,r),t.mode===ae.Sparse)return Ua.call(this,n);if(t.mode===ae.Dense){if(n.offset<=0)return xe.call(this,s),Ua.call(this,n);{const i=r.reduce((u,h)=>Math.max(u,h),r[0]),o=new Int32Array(i+1),a=new Int32Array(i+1).fill(-1),c=new Int32Array(e),l=Ec(-s[0],e,s);for(let u,h,f=-1;++f<e;)(h=a[u=r[f]])===-1&&(h=a[u]=l[u]),c[f]=l[f]-h,++o[u];xe.call(this,c);for(let u,h=-1,f=t.children.length;++h<f;)if(u=n.children[h]){const g=t.typeIds[h],I=Math.min(e,o[g]);this.visit(u.slice(a[g],I))}}}return this}function qb(n){let t;return n.nullCount>=n.length?xe.call(this,new Uint8Array(0)):(t=n.values)instanceof Uint8Array?xe.call(this,kc(n.offset,n.length,t)):xe.call(this,Ui(n.values))}function jn(n){return xe.call(this,n.values.subarray(0,n.length*n.stride))}function Cf(n){const{length:t,values:e,valueOffsets:r}=n,s=r[0],i=r[t],o=Math.min(i-s,e.byteLength-s);return xe.call(this,Ec(-r[0],t,r)),xe.call(this,e.subarray(s,s+o)),this}function Jc(n){const{length:t,valueOffsets:e}=n;return e&&xe.call(this,Ec(e[0],t,e)),this.visit(n.children[0])}function Ua(n){return this.visitMany(n.type.children.map((t,e)=>n.children[e]).filter(Boolean))[0]}Tt.prototype.visitBool=qb;Tt.prototype.visitInt=jn;Tt.prototype.visitFloat=jn;Tt.prototype.visitUtf8=Cf;Tt.prototype.visitBinary=Cf;Tt.prototype.visitFixedSizeBinary=jn;Tt.prototype.visitDate=jn;Tt.prototype.visitTimestamp=jn;Tt.prototype.visitTime=jn;Tt.prototype.visitDecimal=jn;Tt.prototype.visitList=Jc;Tt.prototype.visitStruct=Ua;Tt.prototype.visitUnion=Kb;Tt.prototype.visitInterval=jn;Tt.prototype.visitFixedSizeList=Jc;Tt.prototype.visitMap=Jc;class Rf extends jc{constructor(t){super(),this._position=0,this._started=!1,this._sink=new vi,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Xt(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Fn(t)?t.then(e=>this.writeAll(e)):Xr(t)?Zc(this,t):Qc(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof vi?this._sink=t:(this._sink=new vi,t&&pm(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&ym(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!Ma(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof $t&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Jt&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!Ma(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Jt?t instanceof Hc||this._writeRecordBatch(t):t instanceof $t?this.writeAll(t.batches):zs(t)&&this.writeAll(t)}_writeMessage(t,e=8){const r=e-1,s=zt.encode(t),i=s.byteLength,o=this._writeLegacyIpcFormat?4:8,a=i+o+r&~r,c=a-i-o;return t.headerType===ot.RecordBatch?this._recordBatchBlocks.push(new Pn(a,t.bodyLength,this._position)):t.headerType===ot.DictionaryBatch&&this._dictionaryBlocks.push(new Pn(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),i>0&&this._write(s),this._writePadding(c)}_write(t){if(this._started){const e=nt(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(zt.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ls)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:r,bufferRegions:s,buffers:i}=Tt.assemble(t),o=new ce(t.numRows,r,s),a=zt.from(o,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(i)}_writeDictionaryBatch(t,e,r=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:s,nodes:i,bufferRegions:o,buffers:a}=Tt.assemble(new at([t])),c=new ce(t.length,i,o),l=new Ze(c,e,r),u=zt.from(l,s);return this._writeMessage(u)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,r,s;for(let i=-1,o=t.length;++i<o;)(e=t[i])&&(r=e.byteLength)>0&&(this._write(e),(s=(r+7&-8)-r)>0&&this._writePadding(s));return this}_writeDictionaries(t){for(let[e,r]of t.dictionaries){let s=this._dictionaryDeltaOffsets.get(e)||0;if(s===0||(r=r==null?void 0:r.slice(s)).length>0)for(const i of r.data)this._writeDictionaryBatch(i,e,s>0),s+=i.length}return this}}class Yc extends Rf{static writeAll(t,e){const r=new Yc(e);return Fn(t)?t.then(s=>r.writeAll(s)):Xr(t)?Zc(r,t):Qc(r,t)}}class Gc extends Rf{static writeAll(t){const e=new Gc;return Fn(t)?t.then(r=>e.writeAll(r)):Xr(t)?Zc(e,t):Qc(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=Ps.encode(new Ps(t,oe.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Qc(n,t){let e=t;t instanceof $t&&(e=t.batches,n.reset(void 0,t.schema));for(const r of e)n.write(r);return n.finish()}function Zc(n,t){var e,r,s,i;return R(this,void 0,void 0,function*(){try{for(e=or(t);r=yield e.next(),!r.done;){const o=r.value;n.write(o)}}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(s)throw s.error}}return n.finish()})}function ys(n){const t=un.from(n);return Fn(t)?t.then(e=>ys(e)):t.isAsync()?t.readAll().then(e=>new $t(e)):new $t(t.readAll())}function ia(n,t="stream"){return(t==="stream"?Yc:Gc).writeAll(n).toUint8Array(!0)}var _u=function(){function n(t,e,r,s){var i=this;this.getCell=function(o,a){var c=o<i.headerRows&&a<i.headerColumns,l=o>=i.headerRows&&a<i.headerColumns,u=o<i.headerRows&&a>=i.headerColumns;if(c){var h=["blank"];return a>0&&h.push("level"+o),{type:"blank",classNames:h.join(" "),content:""}}else if(u){var f=a-i.headerColumns,h=["col_heading","level"+o,"col"+f];return{type:"columns",classNames:h.join(" "),content:i.getContent(i.columnsTable,f,o)}}else if(l){var g=o-i.headerRows,h=["row_heading","level"+a,"row"+g];return{type:"index",id:"T_".concat(i.uuid,"level").concat(a,"_row").concat(g),classNames:h.join(" "),content:i.getContent(i.indexTable,g,a)}}else{var g=o-i.headerRows,f=a-i.headerColumns,h=["data","row"+g,"col"+f],I=i.styler?i.getContent(i.styler.displayValuesTable,g,f):i.getContent(i.dataTable,g,f);return{type:"data",id:"T_".concat(i.uuid,"row").concat(g,"_col").concat(f),classNames:h.join(" "),content:I}}},this.getContent=function(o,a,c){var l=o.getChildAt(c);if(l===null)return"";var u=i.getColumnTypeId(o,c);switch(u){case y.Timestamp:return i.nanosToDate(l.get(a));default:return l.get(a)}},this.dataTable=ys(t),this.indexTable=ys(e),this.columnsTable=ys(r),this.styler=s?{caption:s.caption,displayValuesTable:ys(s.displayValues),styles:s.styles,uuid:s.uuid}:void 0}return Object.defineProperty(n.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),n.prototype.serialize=function(){return{data:ia(this.dataTable),index:ia(this.indexTable),columns:ia(this.columnsTable)}},n.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},n.prototype.nanosToDate=function(t){return new Date(t/1e6)},n}(),ws=function(){return ws=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ws.apply(this,arguments)},Ss;(function(n){n.COMPONENT_READY="streamlit:componentReady",n.SET_COMPONENT_VALUE="streamlit:setComponentValue",n.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Ss||(Ss={}));var Ae=function(){function n(){}return n.API_VERSION=1,n.RENDER_EVENT="streamlit:render",n.events=new EventTarget,n.registeredMessageListener=!1,n.setComponentReady=function(){n.registeredMessageListener||(window.addEventListener("message",n.onMessageEvent),n.registeredMessageListener=!0),n.sendBackMsg(Ss.COMPONENT_READY,{apiVersion:n.API_VERSION})},n.setFrameHeight=function(t){t===void 0&&(t=document.body.scrollHeight),t!==n.lastFrameHeight&&(n.lastFrameHeight=t,n.sendBackMsg(Ss.SET_FRAME_HEIGHT,{height:t}))},n.setComponentValue=function(t){var e;t instanceof _u?(e="dataframe",t=t.serialize()):Yb(t)?(e="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(e="bytes",t=new Uint8Array(t)):e="json",n.sendBackMsg(Ss.SET_COMPONENT_VALUE,{value:t,dataType:e})},n.onMessageEvent=function(t){var e=t.data.type;switch(e){case n.RENDER_EVENT:n.onRenderMessage(t.data);break}},n.onRenderMessage=function(t){var e=t.args;e==null&&(console.error("Got null args in onRenderMessage. This should never happen"),e={});var r=t.dfs&&t.dfs.length>0?n.argsDataframeToObject(t.dfs):{};e=ws(ws({},e),r);var s=!!t.disabled,i=t.theme;i&&Jb(i);var o={disabled:s,args:e,theme:i},a=new CustomEvent(n.RENDER_EVENT,{detail:o});n.events.dispatchEvent(a)},n.argsDataframeToObject=function(t){var e=t.map(function(r){var s=r.key,i=r.value;return[s,n.toArrowTable(i)]});return Object.fromEntries(e)},n.toArrowTable=function(t){var e,r=(e=t.data,e.data),s=e.index,i=e.columns,o=e.styler;return new _u(r,s,i,o)},n.sendBackMsg=function(t,e){window.parent.postMessage(ws({isStreamlitMessage:!0,type:t},e),"*")},n}(),Jb=function(n){var t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`
    :root {
      --primary-color: `.concat(n.primaryColor,`;
      --background-color: `).concat(n.backgroundColor,`;
      --secondary-background-color: `).concat(n.secondaryBackgroundColor,`;
      --text-color: `).concat(n.textColor,`;
      --font: `).concat(n.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function Yb(n){var t=!1;try{t=n instanceof BigInt64Array||n instanceof BigUint64Array}catch{}return n instanceof Int8Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int16Array||n instanceof Uint16Array||n instanceof Int32Array||n instanceof Uint32Array||n instanceof Float32Array||n instanceof Float64Array||t}var Gb=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(n){Gb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){Ae.setFrameHeight()},t.prototype.componentDidUpdate=function(){Ae.setFrameHeight()},t})(lm.PureComponent);function Qb(){go(()=>{Ae.setFrameHeight()}),lc(()=>{Ae.setFrameHeight()})}const Zb=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>lr(async()=>{const{default:r}=await Promise.resolve().then(()=>es);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};class Xc extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class Xb extends Xc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tv extends Xc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ev extends Xc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var za;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(za||(za={}));var nv=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};class rv{constructor(t,{headers:e={},customFetch:r,region:s=za.Any}={}){this.url=t,this.headers=e,this.region=s,this.fetch=Zb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return nv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=e;let a={},{region:c}=e;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(I=>{throw new Xb(I)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new tv(u);if(!u.ok)throw new ev(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield u.json():f==="application/octet-stream"?g=yield u.blob():f==="text/event-stream"?g=u:f==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Yt={},tl={},ko={},qs={},Po={},Lo={},sv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qr=sv();const iv=qr.fetch,kf=qr.fetch.bind(qr),Pf=qr.Headers,ov=qr.Request,av=qr.Response,es=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pf,Request:ov,Response:av,default:kf,fetch:iv},Symbol.toStringTag,{value:"Module"})),cv=Rg(es);var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});class lv extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Mo.default=lv;var Lf=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lo,"__esModule",{value:!0});const uv=Lf(cv),hv=Lf(Mo);let dv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const q=await i.text();q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=q:u=JSON.parse(q))}const A=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");A&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const A=await i.text();try{l=JSON.parse(A),Array.isArray(l)&&i.status===404&&(u=[],l=null,f=200,g="OK")}catch{i.status===404&&A===""?(f=204,g="No Content"):l={message:A}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&this.shouldThrowOnError)throw new hv.default(l)}return{error:l,data:u,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}};Lo.default=dv;var fv=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Po,"__esModule",{value:!0});const pv=fv(Lo);let yv=class extends pv.default{select(t){let e=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Po.default=yv;var gv=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qs,"__esModule",{value:!0});const mv=gv(Po);let _v=class extends mv.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};qs.default=_v;var bv=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ko,"__esModule",{value:!0});const us=bv(qs);let vv=class{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){const s=e?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new us.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ko.default=vv;var No={},jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.version=void 0;jo.version="0.0.0-automated";Object.defineProperty(No,"__esModule",{value:!0});No.DEFAULT_HEADERS=void 0;const wv=jo;No.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wv.version}`};var Mf=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tl,"__esModule",{value:!0});const Sv=Mf(ko),Iv=Mf(qs),Ov=No;let Av=class Nf{constructor(t,{headers:e={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ov.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=s}from(t){const e=new URL(`${this.url}/${t}`);return new Sv.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Nf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(e).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",c=e);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Iv.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};tl.default=Av;var ns=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const jf=ns(tl);Yt.PostgrestClient=jf.default;const $f=ns(ko);Yt.PostgrestQueryBuilder=$f.default;const Uf=ns(qs);Yt.PostgrestFilterBuilder=Uf.default;const zf=ns(Po);Yt.PostgrestTransformBuilder=zf.default;const Vf=ns(Lo);Yt.PostgrestBuilder=Vf.default;const Hf=ns(Mo);Yt.PostgrestError=Hf.default;var Tv=Yt.default={PostgrestClient:jf.default,PostgrestQueryBuilder:$f.default,PostgrestFilterBuilder:Uf.default,PostgrestTransformBuilder:zf.default,PostgrestBuilder:Vf.default,PostgrestError:Hf.default};const{PostgrestClient:Ev,PostgrestQueryBuilder:Hw,PostgrestFilterBuilder:Ww,PostgrestTransformBuilder:Kw,PostgrestBuilder:qw}=Tv,Bv="2.10.7",xv={"X-Client-Info":`realtime-js/${Bv}`},Dv="1.0.0",Wf=1e4,Fv=1e3;var Lr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Lr||(Lr={}));var re;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(re||(re={}));var Oe;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Oe||(Oe={}));var Va;(function(n){n.websocket="websocket"})(Va||(Va={}));var Gn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Gn||(Gn={}));class Cv{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){const s=e.getUint8(1),i=e.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class Kf{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(mt||(mt={}));const bu=(n,t,e={})=>{var r;const s=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Rv(o,n,t,s),i),{})},Rv=(n,t,e,r)=>{const s=t.find(a=>a.name===n),i=s==null?void 0:s.type,o=e[n];return i&&!r.includes(i)?qf(i,o):Ha(o)},qf=(n,t)=>{if(n.charAt(0)==="_"){const e=n.slice(1,n.length);return Mv(t,e)}switch(n){case mt.bool:return kv(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return Pv(t);case mt.json:case mt.jsonb:return Lv(t);case mt.timestamp:return Nv(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return Ha(t);default:return Ha(t)}},Ha=n=>n,kv=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Pv=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Lv=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},Mv=(n,t)=>{if(typeof n!="string")return n;const e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let i;const o=n.slice(1,e);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>qf(t,a))}return n},Nv=n=>typeof n=="string"?n.replace(" ","T"):n,Jf=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class oa{constructor(t,e,r={},s=Wf){this.channel=t,this.event=e,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vu;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(vu||(vu={}));class Is{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Is.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Is.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Is.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,s){const i=this.cloneDeep(t),o=this.transformState(e),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const h=i[l];if(h){const f=u.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),I=u.filter(x=>g.indexOf(x.presence_ref)<0),A=h.filter(x=>f.indexOf(x.presence_ref)<0);I.length>0&&(a[l]=I),A.length>0&&(c[l]=A)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(t,e,r,s){const{joins:i,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){const h=t[a].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,u,c)}),this.map(o,(a,c)=>{let l=t[a];if(!l)return;const u=c.map(h=>h.presence_ref);l=l.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=l,s(a,l,c),l.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{const s=t[r];return"metas"in s?e[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=s,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wu;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(wu||(wu={}));var Su;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Su||(Su={}));var Iu;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Iu||(Iu={}));class el{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new oa(this,Oe.join,this.params,this.timeout),this.rejoinTimer=new Kf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Is(this),this.broadcastEndpointURL=Jf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:u})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,I=[];for(let A=0;A<g;A++){const x=f[A],{filter:{event:q,schema:et,table:C,filter:E}}=x,it=u&&u[A];if(it&&it.event===q&&it.schema===et&&it.table===C&&it.filter===E)I.push(Object.assign(Object.assign({},x),{id:it.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=re.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new oa(this,Oe.leave,{},t);s.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:s.signal}));return clearTimeout(i),o}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oa(this,t,e,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Oe;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,e,r);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var I,A,x;return((I=g.filter)===null||I===void 0?void 0:I.event)==="*"||((x=(A=g.filter)===null||A===void 0?void 0:A.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var I,A,x,q,et,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,it=(I=g.filter)===null||I===void 0?void 0:I.event;return E&&((A=e.ids)===null||A===void 0?void 0:A.includes(E))&&(it==="*"||(it==null?void 0:it.toLocaleLowerCase())===((x=e.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const E=(et=(q=g==null?void 0:g.filter)===null||q===void 0?void 0:q.event)===null||et===void 0?void 0:et.toLocaleLowerCase();return E==="*"||E===((C=e==null?void 0:e.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const I=f.data,{schema:A,table:x,commit_timestamp:q,type:et,errors:C}=I;f=Object.assign(Object.assign({},{schema:A,table:x,commit_timestamp:q,eventType:et,new:{},old:{},errors:C}),this._getPayloadRecords(I))}g.callback(f,r)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){const s=t.toLocaleLowerCase(),i={type:s,filter:e,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&el.isEqual(s.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Oe.close,{},t)}_onError(t){this._on(Oe.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=bu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=bu(t.columns,t.old_record)),e}}const jv=()=>{},$v=typeof WebSocket<"u",Uv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zv{constructor(t,e){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xv,this.params={},this.timeout=Wf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jv,this.conn=null,this.sendBuffer=[],this.serializer=new Cv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>lr(async()=>{const{default:c}=await Promise.resolve().then(()=>es);return{default:c}},void 0,import.meta.url).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Va.websocket}`,this.httpEndpoint=Jf(t),e!=null&&e.transport?this.transport=e.transport:this.transport=null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const s=(r=e==null?void 0:e.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(i,o)=>o(JSON.stringify(i)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e==null?void 0:e.fetch),e!=null&&e.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(e==null?void 0:e.worker)||!1,this.workerUrl=e==null?void 0:e.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if($v){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Vv(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),lr(async()=>{const{default:t}=await import("./browser-BGtEBiJZ.js").then(e=>e.b);return{default:t}},[],import.meta.url).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lr.connecting:return Gn.Connecting;case Lr.open:return Gn.Open;case Lr.closing:return Gn.Closing;default:return Gn.Closed}}isConnected(){return this.connectionState()===Gn.Open}channel(t,e={config:{}}){const r=new el(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){const{topic:e,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(Oe.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dv}))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:s,payload:i,ref:o}=e;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Oe.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(e);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Fv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let e;if(t)e=t;else{const r=new Blob([Uv],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}}class Vv{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Lr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class nl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Dt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Hv extends nl{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wa extends nl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var Wv=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};const Yf=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>lr(async()=>{const{default:r}=await Promise.resolve().then(()=>es);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},Kv=()=>Wv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lr(()=>Promise.resolve().then(()=>es),void 0,import.meta.url)).Response:Response}),Ka=n=>{if(Array.isArray(n))return n.map(e=>Ka(e));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,r])=>{const s=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ka(r)}),t};var dr=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};const aa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),qv=(n,t,e)=>dr(void 0,void 0,void 0,function*(){const r=yield Kv();n instanceof r&&!(e!=null&&e.noResolveJson)?n.json().then(s=>{t(new Hv(aa(s),n.status||500))}).catch(s=>{t(new Wa(aa(s),s))}):t(new Wa(aa(n),n))}),Jv=(n,t,e,r)=>{const s={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),e))};function Js(n,t,e,r,s,i){return dr(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(e,Jv(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qv(c,a,r))})})}function so(n,t,e,r){return dr(this,void 0,void 0,function*(){return Js(n,"GET",t,e,r)})}function On(n,t,e,r,s){return dr(this,void 0,void 0,function*(){return Js(n,"POST",t,r,s,e)})}function Yv(n,t,e,r,s){return dr(this,void 0,void 0,function*(){return Js(n,"PUT",t,r,s,e)})}function Gv(n,t,e,r){return dr(this,void 0,void 0,function*(){return Js(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Gf(n,t,e,r,s){return dr(this,void 0,void 0,function*(){return Js(n,"DELETE",t,r,s,e)})}var Vt=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};const Qv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ou={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zv{constructor(t,e={},r,s){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Yf(s)}uploadOrUpdate(t,e,r,s){return Vt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ou),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}upload(t,e,r){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,s){return Vt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let c;const l=Object.assign({upsert:Ou.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return Vt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=yield On(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new nl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}update(t,e,r){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return Vt(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}copy(t,e,r){return Vt(this,void 0,void 0,function*(){try{return{data:{path:(yield On(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,e,r){return Vt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield On(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,e,r){return Vt(this,void 0,void 0,function*(){try{const s=yield On(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}download(t,e){return Vt(this,void 0,void 0,function*(){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield so(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Dt(a))return{data:null,error:a};throw a}})}info(t){return Vt(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const r=yield so(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Ka(r),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}exists(t){return Vt(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield Gv(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Dt(r)&&r instanceof Wa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){const r=this._getFinalPath(t),s=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&s.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield Gf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Dt(e))return{data:null,error:e};throw e}})}list(t,e,r){return Vt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Qv),e),{prefix:t||""});return{data:yield On(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const Xv="2.7.1",t0={"X-Client-Info":`storage-js/${Xv}`};var mr=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};class e0{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},t0),e),this.fetch=Yf(r)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}getBucket(t){return mr(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Dt(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return mr(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mr(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Dt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return mr(this,void 0,void 0,function*(){try{return{data:yield Gf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Dt(e))return{data:null,error:e};throw e}})}}class n0 extends e0{constructor(t,e={},r){super(t,e,r)}from(t){return new Zv(this.url,this.headers,t,this.fetch)}}const r0="2.46.1";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const s0={"X-Client-Info":`supabase-js-${gs}/${r0}`},i0={headers:s0},o0={schema:"public"},a0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c0={};var l0=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};const u0=n=>{let t;return n?t=n:typeof fetch>"u"?t=kf:t=fetch,(...e)=>t(...e)},h0=()=>typeof Headers>"u"?Pf:Headers,d0=(n,t,e)=>{const r=u0(e),s=h0();return(i,o)=>l0(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:n;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var f0=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};function p0(n){return n.replace(/\/$/,"")}function y0(n,t){const{db:e,auth:r,realtime:s,global:i}=n,{db:o,auth:a,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>f0(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const Qf="2.65.1",g0="http://localhost:9999",m0="supabase.auth.token",_0={"X-Client-Info":`gotrue-js/${Qf}`},Au=10,qa="X-Supabase-Api-Version",Zf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function b0(n){return Math.round(Date.now()/1e3)+n}function v0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const we=()=>typeof document<"u",Kn={tested:!1,writable:!1},Os=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kn.tested)return Kn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Kn.tested=!0,Kn.writable=!0}catch{Kn.tested=!0,Kn.writable=!1}return Kn.writable};function ca(n){const t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return e.searchParams.forEach((r,s)=>{t[s]=r}),t}const Xf=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>lr(async()=>{const{default:r}=await Promise.resolve().then(()=>es);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},w0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",tp=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},ci=async(n,t)=>{const e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},li=async(n,t)=>{await n.removeItem(t)};function S0(n){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let e="",r,s,i,o,a,c,l,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=t.indexOf(n.charAt(u++)),a=t.indexOf(n.charAt(u++)),c=t.indexOf(n.charAt(u++)),l=t.indexOf(n.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,e=e+String.fromCharCode(r),c!=64&&s!=0&&(e=e+String.fromCharCode(s)),l!=64&&i!=0&&(e=e+String.fromCharCode(i));return e}class $o{constructor(){this.promise=new $o.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}$o.promiseConstructor=Promise;function Tu(n){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=e[1];return JSON.parse(S0(r))}async function I0(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function O0(n,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await n(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function A0(n){return("0"+n.toString(16)).substr(-2)}function T0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length;let s="";for(let i=0;i<56;i++)s+=e.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,A0).join("")}async function E0(n){const e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function B0(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function x0(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=await E0(n);return B0(e)}async function _r(n,t,e=!1){const r=T0();let s=r;e&&(s+="/PASSWORD_RECOVERY"),await tp(n,`${t}-code-verifier`,s);const i=await x0(r);return[i,r===i?"plain":"s256"]}const D0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F0(n){const t=n.headers.get(qa);if(!t||!t.match(D0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class rl extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}}function Y(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class C0 extends rl{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}}function R0(n){return Y(n)&&n.name==="AuthApiError"}class ep extends rl{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class fr extends rl{constructor(t,e,r,s){super(t,r,s),this.name=e,this.status=r}}class _n extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k0(n){return Y(n)&&n.name==="AuthSessionMissingError"}class la extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ui extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hi extends fr{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eu extends fr{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ja extends fr{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function ua(n){return Y(n)&&n.name==="AuthRetryableFetchError"}class Bu extends fr{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}}var P0=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(e[r[s]]=n[r[s]]);return e};const qn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),L0=[502,503,504];async function xu(n){var t;if(!w0(n))throw new Ja(qn(n),0);if(L0.includes(n.status))throw new Ja(qn(n),n.status);let e;try{e=await n.json()}catch(i){throw new ep(qn(i),i)}let r;const s=F0(n);if(s&&s.getTime()>=Zf["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Bu(qn(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _n}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bu(qn(e),n.status,e.weak_password.reasons);throw new C0(qn(e),n.status||500,r)}const M0=(n,t,e,r)=>{const s={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),e))};async function Q(n,t,e,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[qa]||(i[qa]=Zf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await N0(n,t,e+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function N0(n,t,e,r,s,i){const o=M0(t,r,s,i);let a;try{a=await n(e,Object.assign({},o))}catch(c){throw console.error(c),new Ja(qn(c),0)}if(a.ok||await xu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await xu(c)}}function bn(n){var t;let e=null;z0(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=b0(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Du(n){const t=bn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function An(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function j0(n){return{data:n,error:null}}function $0(n){const{action_link:t,email_otp:e,hashed_token:r,redirect_to:s,verification_type:i}=n,o=P0(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function U0(n){return n}function z0(n){return n.access_token&&n.refresh_token&&n.expires_in}var V0=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(e[r[s]]=n[r[s]]);return e};class H0{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Xf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:An})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:e}=t,r=V0(t,["options"]),s=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$0,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(Y(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:U0});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(I=>{const A=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(I.split(";")[1].split("=")[1]);l[`${x}Page`]=A}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(Y(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:An})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:An})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:e,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:e,error:r}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}}const W0={getItem:n=>Os()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{Os()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{Os()&&globalThis.localStorage.removeItem(n)}};function Fu(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function K0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const br={debug:!!(globalThis&&Os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class np extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class q0 extends np{}async function J0(n,t,e){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await e()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(t===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new q0(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}})}K0();const Y0={url:g0,storageKey:m0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},hs=30*1e3,Cu=3;async function Ru(n,t,e){return await e()}class Ms{constructor(t){var e,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ms.nextInstanceID,Ms.nextInstanceID+=1,this.instanceID>0&&we()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Y0),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new H0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Xf(s.fetch),this.lock=s.lock||Ru,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:we()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=J0:this.lock=Ru,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Os()?this.storage=W0:(this.memoryStorage={},this.storage=Fu(this.memoryStorage)):(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=we()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=e;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Y(t)?{error:t}:{error:new ep("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,r,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:bn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var e,r,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let g=null,I=null;this.flowType==="pkce"&&([g,I]=await _r(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(e=f==null?void 0:f.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:I},xform:bn})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bn})}else throw new ui("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let e;if("email"in t){const{email:i,password:o,options:a}=t;e=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else if("phone"in t){const{phone:i,password:o,options:a}=t;e=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else throw new ui("You must provide either an email or phone number and a password");const{data:r,error:s}=e;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new la}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const e=await ci(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(e??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bn});if(await li(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new la}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:e,provider:r,token:s,access_token:i,nonce:o}=t,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:bn}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new la}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,r,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _r(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(e=c==null?void 0:c.data)!==null&&e!==void 0?e:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:l,error:u}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new ui("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var e,r;try{let s,i;"options"in t&&(s=(e=t.options)===null||e===void 0?void 0:e.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var e,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _r(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:j0})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new _n;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Q(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Q(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ui("You must provide either an email or phone number and a type")}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await e()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=e();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async e=>{var r,s,i;const{data:o,error:a}=e;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _n}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:An})})}catch(e){if(Y(e))return k0(e)&&(await this._removeSession(),await li(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _n;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await _r(this.storage,this.storageKey));const{data:l,error:u}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:An});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Tu(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _n;const e=Date.now()/1e3;let r=e,s=!0,i=null;const o=Tu(t.access_token);if(o.exp&&(r=o.exp,s=r<=e),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-e,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(Y(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var r;if(!t){const{data:o,error:a}=e;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new _n;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t){try{if(!we())throw new hi("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new hi("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Eu("Not a valid PKCE flow url.");const e=ca(window.location.href);if(t){if(!e.code)throw new Eu("No code detected.");const{data:et,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:et.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new hi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new hi("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;c&&(f=parseInt(c));const g=f-u;g*1e3<=hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const I=f-h;u-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,f,u):u-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,f,u);const{data:A,error:x}=await this._getUser(i);if(x)throw x;const q={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:l,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:e.type},error:null}}catch(e){if(Y(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const t=ca(window.location.href);return!!(we()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=ca(window.location.href),e=await ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var r;const{data:s,error:i}=e;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(R0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await li(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=v0(),r={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async e=>{var r,s;try{const{data:{session:i},error:o}=e;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,e={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await _r(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:e,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return we()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Y(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var r,s;const{data:i,error:o}=e;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const r=Date.now();return await O0(async s=>(s>0&&await I0(200*Math.pow(2,s-1)),this._debug(e,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ua(i)&&Date.now()+o-r<hs})}catch(r){if(this._debug(e,"error",r),Y(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",r),we()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const r=await ci(this.storage,this.storageKey);if(this._debug(e,"session from storage",r),!this._isValidSession(r)){this._debug(e,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+Au;if(this._debug(e,`session has${i?"":" not"} expired with margin of ${Au}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ua(o)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(e,"error",r),console.error(r);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,r;if(!t)throw new _n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $o;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _n;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Y(i)){const o={session:null,error:i};return ua(i)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,e,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,e)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tp(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await li(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hs}ms, refresh threshold is ${Cu} ticks`),s<=Cu&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof np)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,r){const s=[`provider=${encodeURIComponent(e)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await _r(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var r;const{data:s,error:i}=e;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var r,s;const{data:i,error:o}=e;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:l}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var r;const{data:s,error:i}=e;if(i)return{data:null,error:i};const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(e){if(Y(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var r;const{data:s,error:i}=e;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(e){if(Y(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}Ms.nextInstanceID=0;const G0=Ms;class Q0 extends G0{constructor(t){super(t)}}var Z0=function(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};class X0{constructor(t,e,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const a=p0(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:o0,realtime:c0,auth:Object.assign(Object.assign({},a0),{storageKey:c}),global:i0},u=y0(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=d0(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new Ev(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new rv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new n0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return Z0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q0({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new zv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tw=(n,t,e)=>new X0(n,t,e),sl=(n,t)=>{const e=n.__vccOpts||n;for(const[r,s]of t)e[r]=s;return e},ew={name:"Annotator",props:["args"],setup(n){Qb();const t=vn(0),e=vn(1),r=vn([]),s=vn(null),i=vn({left:0,top:0});let o=null,a=null,c=null,l=null,u=null,h=null;go(async()=>{const C=n.args.doc;c=C.user_id,l=C.doc_id,u=C.supabase_url,h=C.supabase_key,a=tw(u,h);const{data:E,error:it}=await a.from("docs").select().eq("id",l),be=E[0].file_path,{data:Mt,error:rs}=await a.from("questions").select().eq("doc",l);rs==null&&(r.value=Mt),await g(be)});const f=vn(null);async function g(C){const E=await lr(()=>import("https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.8.69/pdf.min.mjs"),[],import.meta.url);E.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.8.69/pdf.worker.min.mjs",o=await E.getDocument(C).promise,console.log(o),t.value=o._pdfInfo.numPages,Ae.setComponentValue(t.value),await I()}async function I(){const C=await o.getPage(e.value),E=f.value.getContext("2d"),it=704,ue=C.getViewport({scale:1}),be=it/ue.width,Mt=C.getViewport({scale:be});f.value.width=it,f.value.height=Mt.height,await C.render({canvasContext:E,viewport:Mt}).promise,i.value=f.value.getBoundingClientRect()}async function A(C){e.value+=C,await I()}async function x(C){const E=C.clientX-i.value.left,it=C.clientY-i.value.top;r.value.forEach(Mt=>Mt.isOpen=!1);const{data:ue,error:be}=await a.from("questions").insert({doc:l,asked_by:c,question:"",answer:"",page:e.value,x:E,y:it}).select();be==null&&(ue[0].isOpen=!0,r.value.push(ue[0]))}async function q(C,E){await a.from("questions").update({question:E}).eq("id",C)}async function et(C){await a.from("questions").delete().eq("id",C);const E=r.value.findIndex(it=>it.id===C);E!==-1&&r.value.splice(E,1)}return{numPages:t,currentPage:e,pdfCanvas:f,questions:r,canvasRect:i,inputNumberRef:s,goTo:A,createQuestion:x,askQuestion:q,removeQuestion:et}}},nw={style:{"padding-top":"20px",height:"1200px"}},rw={style:{width:"100%",display:"flex","flex-direction":"row","justify-content":"space-between","margin-top":"10px"}},sw=["disabled"],iw=["disabled"],ow={style:{"margin-top":"10px","border-radius":"0.5rem",border:"1px solid rgba(49, 51, 63, 0.2)",overflow:"hidden"}},aw=["onClick"],cw=Ct("span",{style:{width:"20px",height:"20px","font-size":"18px"}},"★",-1),lw=[cw],uw={class:"popup"},hw=["onUpdate:modelValue"],dw=["onClick"],fw=["onClick"];function pw(n,t,e,r,s,i){return Bn(),Dr("div",nw,[Ct("span",null," Num pages: "+fa(r.numPages)+" | Current page: "+fa(r.currentPage)+"   ",1),Ct("div",rw,[Ct("button",{disabled:r.currentPage==1,class:"button",onClick:t[0]||(t[0]=o=>r.goTo(-1))}," Go to previous page ",8,sw),Ct("button",{disabled:r.currentPage==r.numPages,class:"button",onClick:t[1]||(t[1]=o=>r.goTo(1))}," Go to next page ",8,iw)]),Ct("div",ow,[Ct("canvas",{ref:"pdfCanvas",onClick:t[2]||(t[2]=(...o)=>r.createQuestion&&r.createQuestion(...o))},null,512),(Bn(!0),Dr(fe,null,vy(r.questions,o=>(Bn(),Dr("div",{key:o.id,class:"question",style:lo({left:r.canvasRect.left+o.x+"px",top:r.canvasRect.top+o.y+"px"})},[Ko(Ct("div",{onClick:a=>o.isOpen=!o.isOpen,class:"toggle"},lw,8,aw),[[Nl,o.page==r.currentPage]]),Ko(Ct("div",uw,[Ct("div",null,[Ko(Ct("input",{type:"text",placeholder:"Here goes your question","onUpdate:modelValue":a=>o.question=a},null,8,hw),[[Ag,o.question]]),Ct("button",{class:"button",style:{"background-color":"#FF4500",color:"white","margin-left":"10px"},onClick:a=>r.removeQuestion(o.id)},"Remove",8,dw)]),Ct("button",{class:"button blue",style:{"margin-top":"10px"},onClick:a=>{r.askQuestion(o.id,o.question),o.isOpen=!1}},"Ask question",8,fw)],512),[[Nl,o.isOpen]])],4))),128))])])}const yw=sl(ew,[["render",pw]]),gw=uh({name:"WithStreamlitConnection",setup(){const n=vn(void 0),t=vn(""),e=r=>{const s=r;n.value=s.detail,t.value=""};return go(()=>{Ae.events.addEventListener(Ae.RENDER_EVENT,e),Ae.setComponentReady()}),lc(()=>{t.value!=""&&Ae.setFrameHeight()}),uc(()=>{Ae.events.removeEventListener(Ae.RENDER_EVENT,e)}),fh(r=>{t.value=String(r)}),{renderData:n,componentError:t}}}),mw=n=>(Xp("data-v-9ae37d8b"),n=n(),ty(),n),_w={key:0},bw=mw(()=>Ct("h1",{class:"err__title"},"Component Error",-1)),vw={class:"err__msg"};function ww(n,t,e,r,s,i){return Bn(),Dr("div",null,[n.componentError!=""?(Bn(),Dr("div",_w,[bw,Ct("div",vw,"Message: "+fa(n.componentError),1)])):n.renderData!=null?wy(n.$slots,"default",{key:1,args:n.renderData.args,disabled:n.renderData.disabled},void 0):Wy("",!0)])}const Sw=sl(gw,[["render",ww],["__scopeId","data-v-9ae37d8b"]]),Iw=uh({name:"App",components:{Annotator:yw,WithStreamlitConnection:Sw}}),Ow={id:"app"};function Aw(n,t,e,r,s,i){const o=Il("Annotator"),a=Il("WithStreamlitConnection");return Bn(),Dr("div",Ow,[ge(a,null,{default:ah(({args:c})=>[ge(o,{args:c},null,8,["args"])]),_:1})])}const Tw=sl(Iw,[["render",Aw]]);Bg(Tw).mount("#app");export{Cg as g};
